<!DOCTYPE html>
<html lang="en">
	<head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
		<meta name="format-detection" content="telephone=no">
        <title>iLiT</title>        
        <link href="css/jquery-ui.css" media="all" rel="stylesheet"/>        
        <link href="css/fonts/fonts.css" media="all" rel="stylesheet"/>
		<!-- <link href="css/idangerous.swiper.css" media="all" rel="stylesheet" />	 -->	 
		<link href="css/assignments_instructor_dev_20.css" media="all" rel="stylesheet"/> 
		<link href="css/assignments_instructor_20.css" media="all" rel="stylesheet"/>
        <!--[if gte IE 9]>
        <style type="text/css">
            .gradient {
				filter: none !important;
			}
        </style>
        <![endif]-->
        <script type="text/javascript" src="js/jquery-1.10.2.js"></script>
        <script type="text/javascript" src="js/jquery-ui.js"></script>
        <script type="text/javascript" src="js/underscore-min.js"></script>
        <script type="text/javascript" src="js/jquery.ui.touch-punch.min.js"></script>        
		<script type="text/javascript" src="js/iSeriesBase.js"></script>
        <script type="text/javascript" src="js/util.js"></script>
		<!-- <script type="text/javascript" src="js/idangerous.swiper-2.1.min.js"></script> -->
		<script type="text/javascript" src="js/slick.min.js"></script>
        <script type="text/javascript" src="js/globals.js"></script>
        <script type="text/javascript" src="js/constants.js"></script>
        <script type="text/javascript" src="js/message_handler.js"></script>        
        <script type="text/javascript" src="js/client_native_communication.js"></script>		
		
		<script type="text/javascript" src="js/assignments_instructor_20.js"></script>
		<script type="text/javascript" src="js/assignments_instructor_helper.js"></script>
		<script type="text/javascript">
			/* can be removed but need to change in client native file accordingly */
			var objPlatform = {
				isAndroid: function() {
					return navigator.userAgent.match(/Android/i);
				},
				isBlackBerry: function() {
					return navigator.userAgent.match(/BlackBerry/i);
				},
				isIOS: function() {
					return navigator.userAgent.match(/iPhone|iPad|iPod/i);
				},
				isWindows: function() {
					//return navigator.userAgent.match(/IEMobile|Windows|WebView/i);
					return navigator.userAgent.match(/Windows.*WebView/i);
				},
				isBrowser: function () {
					return !this.isDevice();
				},
				isDevice: function() {
					return (this.isAndroid() || this.isBlackBerry() || this.isIOS() || this.isWindows());
				}
			};
			
			var $assignmentDB;
			$(document).ready(function () {				
				if (oPlatform.isIOS()) {
					loadJS('js/NativeBridge.js', function () {
						onPageLoadComplete(GENERAL.c_s_PAGE_TYPE_ASSIGNMENT_INSTRUCTOR);
						$assignmentDB = new AssignmentInstructor();						
					});					
				}
				else {
					onPageLoadComplete(GENERAL.c_s_PAGE_TYPE_ASSIGNMENT_INSTRUCTOR);
					$assignmentDB = new AssignmentInstructor();
				}
			});
		</script>		
		
    </head>
	
	<body>
		<div id="loaderContainer"></div>
        <div class="loaderContainerOverlay"></div>
		<!-- main template goes here -->
		<section id="main_container">		
		</section>
		<!-- DIALOG BOX --->
		<div id="dialog-message" title="Alert!" class="Ilit_alert_box"></div>
		<div id="scorePopupArea"></div>
		<div id="PopupArea"></div>
	</body>
	
	<!-- MAIN WRAPPER TEMPLATE  -->
	<script type="text/template" id="mainTemplate">
		<div class="wrapper">
			<div class="organize-bg"></div>
			<div class="main_wrapper">
				<section class="container_spaceorganize dashboard_instructor">
					<div class="organize-main-container">
						<div class="view_organize_carausal" >
							<div class="max-width1024">
							<div class="carausal-container" id="dashboard-weeks">
							</div>
							<div class="clear"></div>
							</div>
						</div>
					</div>
					<div class="clear"></div>
					<div class="table-slider-tabscont">
					<ul class="table-slider-tabs">
						<li><a href="#" class="active" data-view="assignments">Assignments</a></li>												
						<li><a href="#" data-view="grade">GRADE</a></li>
						<li><a href="#" data-view="reading-entry">Reading</a></li>
						<!-- <li><a href="#" data-view="conference" class="disabled">Conference</a></li>
						<li><a href="#" data-view="grading-period">Grading Period</a></li> -->
						<li><a href="#" data-view="summary">Summary</a></li>
						<div class="clearfix"></div>
					</ul>
					</div>
					<div class="grid-container max-width1024" id="dashboard-grid">
					</div>				
				</section>
			</div>
			<div class="clear"></div>
		</div>
	</script>
	
	
	<!-- HEADER TEMPLATE RENDERING WEEKS -->
	<script type="text/template" id="dashboard-header">				
		<% 	if (iWeeks) {	%>
			<button id="prevPagingBtn" class="left_arrow sprite btn"></button>
			<button id="nextPagingBtn" class="right_arrow sprite btn"></button>
			<div class="swiper-container" style="backface-visibility: visible;">
			<div class="swiper-wrapper">
<%
			var weekColor = [];
			var i = 0;			
			_.each(oCalendarJson, function (oCalendar, key) {								
				for (var k=0; k < oCalendar.wr.length; k++) {
					weekColor.push("color"+i);
				}
				i++;
			});
			%>
			<div class="lesson_button_container swiper-slide swiper-no-swiping swiper-slide-visible swiper-slide-active" style="width: auto; height: auto;">
			<%
			for (var iI=1; iI <= iWeeks; iI++) {				
%>				
				<div class="week-no <%=(typeof weekColor[iI-1]!= "undefined")? weekColor[iI-1] : "" %> <%= (iI == iCurrentWeek) ? 'weekselected' : '' %>" data-week=<%= iI %> data-weekid ="<%= iI %>">
					<div class="week-name">Week</div>
					<div class="weekend-no"> <%= iI %> </div>
				</div>
<%				
			}
%>
			</div>
		</div>
		<div class="clear"></div>
		<% } %>
	</script>
	
	
	<!-- ASSIGNMENT VIEW IFRAME -->
	<script type="text/template" id="viewAssignment">
		<iframe src="" id="viewAssignmentFrame" frameborder="0" width="100%" height="100%" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true">
			<p>Your browser does not support iframes.</p>
		</iframe>
	</script>
	
	
	<!-- VIEW TOOLTIP TEMPLATE -->
	<script type="text/template" id="infoBubble">
<%
		if (typeof finalScore == "undefined") {
			finalScore = '';
		}
		
		var readingLevelContent = "";
		if(readingLevel != 0 ){
			readingLevelContent = "[" + readingLevel + "]";
		}
%>		
		<div class="lesson_toolls active" id="itemBubble" data-item="<%=itemId%>" data-student="<%=studentId%>">
			<div class="lesson_tooltip" style="display: block;">
				<div class="page_arrow sprite"></div>
				<div class="Tooltip_title_wrap"><%=title%> <%=readingLevelContent%></div>
				<div class="Tooltip_menu_wrap">
					<div class="Tooltip_menu_wrap_inn">                            
						<ul>
<%        
						buttonObjLen = Object.keys(buttonObj).length;
						for (var cnt = 0; cnt < buttonObjLen; cnt++) {
%>
						<li class="<%=buttonObj[cnt].class%>" data-item="<%=itemId%>" data-itemattemptid="<%= itemAttemptId %>" data-student="<%=studentId%>" data-finalscore="<%= finalScore %>" data-status="<%= status %>">
							<%=buttonObj[cnt].text%>
						</li>
<%
							if (buttonObjLen > cnt + 1) {
%>
						<li class="devider_m"></li>                          
<%
							}
						}
%>
						</ul>
					</div>
				</div>			
			</div>
		</div>
	</script>
	
	
	<!-- CONTENT TEMPLATE RENDERING ASSIGNMENT DASHBOARD -->
	<script type="text/template" id="dashboard-content">
		<div class="table-slider-with assignment-grid">
		<div class="table-slider-container">
            <div class="table-title-bar">
                <div class="table-column margin-right20">
                <div class="table-title">
                    <div class="margin-right2 partname bg-black">Student</div>
                    <div class="partname-qty bg-black">Lexile</div>
                    <div class="clearfix"></div>
                </div>
                
                <div class="clearfix"></div>
                </div>
                <div class="table-column2 margin-right2">
                    <div class="table-title table-title2">
                        <div class="slide-container">
							<div class="slide-item" style="width:700px; float:left;">
							<!-- COLUMN HEADERS -->							
							<div class="table-row-header">
							<% 
								var iHeaderCnt = 0;
								var iHeaderCatCnt = _.size(dataHeader);
								dataHeader = _.sortBy(dataHeader, "order");								
								var iTotCols = iHeaderCatCnt;
								_.each(dataHeader, function (oCatg, key) { 
									iHeaderCnt++;									
							%>								
									<div class="<%= (iHeaderCnt % gridCols > 0) ? 'margin-right2' : '' %> paddingtitle bg-black"><%= oCatg.catg %></div>
								
							<% 	}); %>
							
							<!-- IF SHORT OF COLUMNS THEN ADD BLANK COLUMNS TO FILL THE PAGE   -->
							<%	
								if (iHeaderCnt % gridCols > 0 || iHeaderCnt == 0) {
									var iExtraCol = gridCols - (iHeaderCnt % gridCols);
									for (var i=iExtraCol; i > 0; i--) {
										iTotCols++;
							%>
									<div class="<%= (i-1 > 0) ? 'margin-right2' : '' %> paddingtitle bg-black"></div>
							<%
									}
								}
							%>
							</div>							
                             <div class="clearfix"></div>
							</div>                            
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="clearfix"></div>
            </div>
            
            <div class="table-content-wrapper" id="assignment-data-grid">
                <!-- Entire Data Grid Goes Here -->				
			</div>
			<input type="hidden" id="iTotCols" value="<%= iTotCols %>" />
			<input type="hidden" id="iHeaderCatCnt" value="<%= iHeaderCatCnt %>" />
			
			<!-- <% if (iHeaderCatCnt > 0 && _.size(data) > 0) { %> -->
            <div class="slide-pagination" <%= iHeaderCatCnt <= 3 ? 'style="display:none;"' : 'style="display:block;"' %> >
				<button class="next-table-slide left-sl left_arrow sprite btn disabled"></button> 
				<button class="next-table-slide right-sl right_arrow sprite btn <%= iHeaderCatCnt <= 3 ? 'disabled' : '' %>"></button>
			</div>
			<!-- <% } %> -->
            <div class="clearfix"></div>        
        
			<div class="clearfix"></div>
		</div>
		
		<div class="clearfix"></div>
	</div>
	</script>
	
	
	<!-- ASSIGNMENT GRID DATA PLOTTING -->
	<script type="text/template" id="dashboard-content-data">
		<div class="table-column margin-right20">
                    <div class="table-content">
						<!-- STUDENT LIST -->
						<% 
						var oData = {};
						var iStudCnt = 0;						
						aSortedStudList = _.sortBy(aStudentList, function(obj){return parseInt(obj.UserID);});
						
						_.each(aSortedStudList, function(oData,sID) {							
							iStudCnt++;												
						%>
							<div class="table-row">
								<div class="margin-right2 partname student-title line-clamp <%= (iStudCnt % 2 == 0) ? 'even' : 'odd'%>" data-SID="<%= oData.UserID %>"><%= oData.UserDisplayName %></div>
								<div class="partname-qty line-clamp <%= (iStudCnt % 2 == 0) ? 'even' : 'odd'%>" data-sid="<%= oData.UserID %>" data-lexile="true">
								<%= oData.UserCurrentLexileLevel %></div>                            
								<div class="clearfix"></div>
							</div> 
						<% }); %> 
						<div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                    
                </div>
                
                <!-- <div class="table-column2 margin-right2"> -->
                <div class="table-column2">
                    
                    <div class="table-content">
                    	<div class="slide-container">
                            <div class="slide-item" style="width:700px; float:left; left:<%= sLeftSlidePx %>">
							
							<!-- GRID -->
							<%	
								var oData = {};
								var iRowCnt = 0;								
								_.each(data, function(oCatgList,SID) {									
									iRowCnt++;								
							%>
									<div class="table-row">
										<% 
											var iColCnt = 0;
											var iCatgCnt = _.size(oCatgList);
											
											/* order by assignment category */
											oNewCatgList = [];											
											_.each(dataCategoryOrder, function(val, key) {
												if (oCatgList[val]) {
													oNewCatgList.push(oCatgList[val]);
												}
											});											
											
											_.each(oNewCatgList, function(oAssignmentList, sCatg) {												
												oData = _.filter(oAssignmentList, function(obj){ 
													return obj['STATUS'] != ''; 
												});												
												
												if (oData.length) {
													iColCnt++;
											%>
												<div class="margin-right2 partname partname50 <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>" data-title="<%= oData[0]['ITEM-NAME'] %>" data-IID="<%= oData[0]['IID'] %>" data-SID="<%= oData[0]['SID'] %>" data-IAID="<%= oData[0]['IAID'] %>" data-ITYPE="<%= oData[0]['ITYPE'] %>" data-ISUBTYPE="<%= oData[0]['ISUBTYPE']%>">
													<div class="line-clamp item-name" style="<%= oData[0]['ARL'] > 0 ? 'width:80%' : 'width:100%' %>" >
														<%= oData[0]['ITEM-NAME'] %>
													</div>
													<div class="reading-lvl" style="<%= oData[0]['ARL'] > 0 ? 'display:block' : 'display:none' %>">
														(<%= oData[0]['ARL'] %>)
													</div>
												</div>
												
												<div class="<%= (iColCnt % gridCols > 0) ? 'margin-right2' : '' %> partname-qty partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%> <%= ($.trim(oData[0]['STATUS']) == ASSIGNMENT_INSTRUCTOR.c_s_SENT_COMPLETED_TXT) ? 'red-lbl' : '' %>" data-title="<%= oData[0]['ITEM-NAME'] %>"  data-SID="<%= oData[0]['SID'] %>" data-IID="<%= oData[0]['IID'] %>" data-IAID="<%= oData[0]['IAID'] %>" data-ITYPE="<%= oData[0]['ITYPE'] %>" data-FS="<%= oData[0]['FS'] %>" data-ISUBTYPE="<%= oData[0]['ISUBTYPE']%>" data-reassign="<%= oData[0]['REASSIGN-COUNT'] %>" data-core="true">
													<%= oData[0]['STATUS']  %>
												</div>
											<%
												}
												else {
													iColCnt++;													
											%>
												<!-- IF NO ASSIGNMENT ASSIGNED FOR THIS CATG THEN SHOW EMPTY CELL -->
												<div class="margin-right2 partname partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>""></div>
												<div class="<%= (iColCnt % gridCols > 0) ? 'margin-right2' : '' %> partname-qty  partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>""></div>
											<%
												}
											});
										%>
										
										<!-- RENDER EXTRA PRACTICE COLUMNS FOR THIS STUDENT -->
										<% 	_.each(dataExtraPractice[SID], function(oAssignmentList, sCatg) {
												_.each(oAssignmentList, function (oData, key) {
													if (oData['STATUS']) {
													iColCnt++;
											%>
												<div class="margin-right2 partname partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>" data-title="<%= oData['ITEM-NAME'] %>" data-IID="<%= oData['IID'] %>" data-SID="<%= oData['SID'] %>" data-IAID="<%= oData['IAID'] %>" data-ITYPE="<%= oData['ITYPE'] %>" data-ISUBTYPE="<%= oData['ISUBTYPE']%>">
													<%= oData['ITEM-NAME'] %>
												</div>
												
												<div class="<%= (iColCnt % gridCols > 0) ? 'margin-right2' : '' %> partname-qty partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%> <%= ($.trim(oData['STATUS']) == ASSIGNMENT_INSTRUCTOR.c_s_SENT_COMPLETED_TXT) ? 'red-lbl' : '' %>" data-title="<%= oData['ITEM-NAME'] %>"  data-SID="<%= oData['SID'] %>" data-IID="<%= oData['IID'] %>" data-IAID="<%= oData['IAID'] %>" data-ITYPE="<%= oData['ITYPE'] %>" data-FS="<%= oData['FS'] %>" data-ISUBTYPE="<%= oData['ISUBTYPE']%>" data-reassign="<%= oData['REASSIGN-COUNT'] %>" data-core="false">
													<%= oData['STATUS']  %> 
												</div>
											<%
													}
												});											
											});
										%>
																		
																				
										<!-- increase category count on basis of Extra Assignment columns and check -->
										<!-- IF SHORT OF COLUMNS DUE TO LESS CATEGORY THEN ADD BLANK COLUMNS TO FILL THE PAGE   -->
										
										<%												
											iCatgCnt += _.size(iCountExtraPractice[SID]); 
											/* if (iCatgCnt % gridCols > 0) { */
											if (iCatgCnt < iTotCols) {
												/* var iExtraCol = gridCols - (iCatgCnt % gridCols); */
												var iExtraCol = iTotCols - iCatgCnt;												
												for (var i=iExtraCol; i > 0; i--) {
													iColCnt++;
										%>												
												<div class="margin-right2 partname partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
												<div class="<%= (iColCnt % gridCols > 0) ? 'margin-right2' : '' %> partname-qty partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
										<%
												}
											}
										%>
										
										<div class="clearfix"></div>
									</div>
							<% }); %>
							
							<!-- IF NO DATA FOUND THEN CREATE BLANK ROWS -->
							<%	
								if (_.size(data) == 0) {
									_.each(aSortedStudList, function(oData,sID) {
										iRowCnt++;										
							%>	
										<div class="table-row">
										<% for (var i=0; i < iHeaderCatCnt; i++) {%>
											<div class="margin-right2 partname partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
											<div class="<%= ((i+1) % gridCols > 0 && i < iHeaderCatCnt-1) ? 'margin-right2' : '' %> partname-qty partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
										<% } %>
										
										<!-- IF SHORT OF COLUMNS DUE TO LESS CATEGORY THEN ADD BLANK COLUMNS TO FILL THE PAGE   -->
										<%	
											if (iHeaderCatCnt % gridCols > 0) {
												var iExtraCol = gridCols - (iHeaderCatCnt % gridCols);
												for (var i=iExtraCol; i > 0; i--) {
										%>												
												<div class="margin-right2 partname partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
												<div class="<%= (i-1 > 0) ? 'margin-right2' : '' %> partname-qty partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
										<%
												}
											}
										%>
										</div>
							<%
									});
								}
							%>							
                            
							<!-- IF NO DATA FOUND -->
							<!-- <div class="msg-container"><%= sNoData %></div> -->
							<% if (iHeaderCatCnt == 0 && _.size(data) == 0) { 
								var iRowCnt = 0;
								_.each(aSortedStudList, function(oData,sID) {			
									iRowCnt++;												
								%>
									<div class="table-row">
										<% for (var i=gridCols; i > 0; i--) { %>
										<div class="margin-right2 partname partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
										<div class="<%= (i-1 > 0) ? 'margin-right2' : '' %> partname-qty partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
										<% } %>
									</div> 
								<% }); %> 
								<div class="clearfix"></div>
							<% } %>
                            <div class="clearfix"></div>
                        </div>
                    	<div class="clearfix"></div>
                    </div>                       
                        
                     <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                    
                </div>                
                
                <div class="clearfix"></div>
            </div>
			
	</script>
	
	
	<!-- CONTENT TEMPLATE RENDERING SUMMARY DASHBOARD -->
	<script type="text/template" id="dashboard-summary">
	<div class="divTable summary-grid">
		<div class="divTableBody">
		<div class="divTableRow divtableheader">
			<% 
				var iHeaderCnt = 0;												
				_.each(dataHeader, function (oCatg, key) { 
					iHeaderCnt++;	
					sExtraCell = (oCatg == "Assignments" || oCatg == "Book Reviews") ? 'extra-cell' : '';
			%>		
					<div class="divTableCell<%= iHeaderCnt %> <%= sExtraCell %>">
					<% if (sExtraCell) { %>
						<div class="extra-cell-name"><%= oCatg %></div>
						<div class="Completed-div">Completed</div>
						<div class="outstanding-div">Outstanding</div>
					<% } else {%>					
						<%= oCatg %>						
					<% } %>
					</div>
			<% 	}); %>	
			<div class="clearfix"></div>			
		</div>
		<div class="divtable-body" id="summary-data-grid">
			<!-- ENTTIRE DATA GRID GOES HERE -->									
		</div>
		</div>
		</div>
	</script>	
	
	<!-- CONTENT TEMPLATE RENDERING SUMMARY DASHBOARD -->
	<script type="text/template" id="dashboard-summary-data">
		<%	_.each(data, function(oSData,SID) { %>
			<div class="divTableRow">								
				<% 
					var aVal = [];
					for (var iJ=0; iJ < oSData.length; iJ++) { 
						sExtraCell = (iJ == 6 || iJ == 7) ? 'extra-cell' : '';
						sTitleClass = iJ == 0 ? 'student-title' : '';
						sDataSID = iJ == 0 ? 'data-SID="'+SID+'"' : '';						
				%>
						<div class="divTableCell<%= iJ+1 %> <%= sExtraCell %> <%= sTitleClass %>" <%= sDataSID %> >
						<%	if (sExtraCell) {							
							aVal = oSData[iJ].toString().split("||");
						%>							
							<div class="Completed-div"><%= aVal[0] %></div>
							<div class="outstanding-div"><%= aVal[1] %></div>
						<% } else {%>					
							<%= oSData[iJ] %>				
						<% } %>
						</div>
				<% } %>	
			</div>			
			<% }); %>
	</script>
	
	<!-- CONTENT TEMPLATE RENDERING GRADE DASHBOARD -->
	<script type="text/template" id="dashboard-grade">
		<div class="table-slider-with grade-grid">
		<div class="table-slider-container">
            <div class="table-title-bar">
                <div class="table-column margin-right20">
                <div class="table-title">
                    <div class="margin-right2 partname gradeTitle bg-black">Student</div>
                    <div class="partname-qty gradeTitle bg-black">Lexile</div>
                    <div class="clearfix"></div>
                </div>
                
                <div class="clearfix"></div>
                </div>
                <div class="table-column2 margin-right2">
                    <div class="table-title table-title2">
                        <div class="slide-container">
							<div class="slide-item" style="width:700px; float:left;">
							<!-- COLUMN HEADERS -->
							<div class="status-header">
								<div class="table-row-header">
								<% 
									var iHeaderCnt = 0;
									var iHeaderCatCnt = _.size(dataHeader);								
									var aItemDetail = [];
									
									/* order by assignment category */
									oNewDataHeader = [];
									var sHeaderVal = "";
									_.each(dataCategoryOrder, function(val, key) {										
										sHeaderVal = _.filter(dataHeader, function(str){											
											return str.search(key) != -1 ? true : false; 
										});
										
										if (sHeaderVal) {											
											oNewDataHeader.push(sHeaderVal[0]);
										}
									});
								
									_.each(oNewDataHeader, function (sCatg, key) {									
										iHeaderCnt++;
										aItemDetail = sCatg.split('||');									
								%>								
										<div class="<%= (iHeaderCnt % gridCols > 0) ? 'margin-right2' : '' %> paddingtitle gradeTitle bg-black" data-itemID="<%= aItemDetail[1] %>" data-targetGradeCode="<%= aItemDetail['3']%>" data-item-name="<%= aItemDetail[0] %>" data-ISUBTYPE="<%= aItemDetail[2] %>">
											<div class="grade-title-txt">
											<%= aItemDetail[0] %>
											</div>
											<div class="grade-title-gle">
												<div class="grade-expand sprite"><></div><div class="totGle">Total GLE</div>
											</div>
										</div>
									
								<% 	}); %>
								
								<!-- IF SHORT OF COLUMNS THEN ADD BLANK COLUMNS TO FILL THE PAGE   -->
								<%	
									if (iHeaderCnt % gridCols > 0 || iHeaderCnt == 0) {
										var iExtraCol = gridCols - (iHeaderCnt % gridCols);
										for (var i=iExtraCol; i > 0; i--) { 
								%>
										<div class="<%= (i-1 > 0) ? 'margin-right2' : '' %> paddingtitle gradeTitle bg-black"></div>
								<%
										}
									}
								%>
								</div>
							</div>
                             <div class="clearfix"></div>
							</div>                            
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="clearfix"></div>
            </div>
            
            <div class="table-content-wrapper" id="grade-data-grid">
                <!-- ENTIRE DATA GRID GOES HERE -->
            </div>
			<input type="hidden" id="iHeaderCatCnt" value="<%= iHeaderCatCnt %>" />
			
			<!-- <% if (iHeaderCatCnt > 0 && _.size(data) > 0) { %> -->
            <div class="slide-pagination" <%= iHeaderCatCnt <= 3 ? 'style="display:none;"' : 'style="display:block;"' %>>
				<button class="next-table-slide left-sl grade-btn-height left_arrow sprite btn disabled"></button> 
				<button class="next-table-slide right-sl grade-btn-height right_arrow sprite btn <%= iHeaderCatCnt <= 3 ? 'disabled' : '' %>"></button>
			</div>
			<!-- <% } %> -->
            <div class="clearfix"></div>        
        
			<div class="clearfix"></div>
		</div>
		
		<div class="clearfix"></div>
	</div>
	</script>
	
	
	<!-- GRADE DATA GRID TEMPLATE -->
	<script type="text/template" id="dashboard-grade-data">
		<div class="table-column margin-right20">
			<div class="table-content">
				<!-- STUDENT LIST -->
				<% 
				var oData = {};
				var iStudCnt = 0;						
				aSortedStudList = _.sortBy(aStudentList, function(obj){return parseInt(obj.UserID);});
				
				_.each(aSortedStudList, function(oData,sID) {			
					iStudCnt++;												
				%>
					<div class="table-row">
						<div class="margin-right2 partname student-title line-clamp <%= (iStudCnt % 2 == 0) ? 'even' : 'odd'%>" data-SID="<%= oData.UserID %>"><%= oData.UserDisplayName %></div>
						<div class="partname-qty line-clamp <%= (iStudCnt % 2 == 0) ? 'even' : 'odd'%>">
						<%= oData.UserCurrentLexileLevel %></div>                            
						<div class="clearfix"></div>
					</div> 
				<% }); %> 
				<div class="clearfix"></div>
			</div>
			<div class="clearfix"></div>                    
		</div>
		
		<div class="table-column2 ">                    
			<div class="table-content">
				<div class="slide-container">
					<div class="slide-item" style="width:700px; float:left;">
					<div class="status-grid">
					<!-- GRID -->
					<%	
						var oData = {};
						var iRowCnt = 0;
						_.each(data, function(oCatgList,k) {
							iRowCnt++;								
					%>
							<div class="table-row">
								<% 
									var iColCnt = 0;											
									_.each(oCatgList, function(oData, k) {												
										oData = _.sortBy(oData, "ITEM-SUBJECT");
										
										_.each(oData, function(oItem, ikey) {
											iColCnt++;
									%>
											<div class="<%= (iColCnt % gridCols > 0) ? 'margin-right2' : '' %> partname partname100 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>" data-student="<%= oItem['SID']%>" data-item="<%= oItem['IID'] %>"  data-FS="<%= oItem['FS']%>" data-IAID="<%= oItem['IAID']%>" data-item-name="<%= oItem['ITEM-NAME']%>" data-ISUBTYPE="<%= oItem['ISUBTYPE']%>" data-targetGradeCode="<%= oItem['targetGradeCode']%>" data-core="true">
												<%= oItem['STATUS']  %>
											</div>												
									<%	}); %>
									
								<!-- IF NO DATA FOUND FOR ALL CATEGORYS THEN FILL WITH EMPTY CELLS -->												
									<%	for (var i = iHeaderCatCnt - oData.length; i > 0; i--) {
											iColCnt++;
									%>
										<div class="<%= (iColCnt % gridCols > 0) ? 'margin-right2' : '' %> partname partname100 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>""></div>												
									<%
										}
									});
								%>
								
								<!-- IF SHORT OF COLUMNS DUE TO LESS CATEGORY THEN ADD BLANK COLUMNS TO FILL THE PAGE   -->
								<%	
									if (iHeaderCatCnt % gridCols > 0) {
										var iExtraCol = gridCols - (iHeaderCatCnt % gridCols);
										for (var i=iExtraCol; i > 0; i--) {
								%>												
										<div class="<%= (i-1 > 0) ? 'margin-right2' : '' %> partname partname100 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
										
								<%
										}
									}
								%>
								
								<div class="clearfix"></div>
							</div>
					<% }); %>
					
					<!-- IF NO DATA FOUND THEN CREATE BLANK ROWS -->
					<%	
						if (_.size(data) == 0) {
							_.each(aSortedStudList, function(oData,sID) {
								iRowCnt++;										
					%>	
								<div class="table-row">
								<% for (var i=0; i < iHeaderCatCnt; i++) {%>
									<div class="<%= ((i+1) % gridCols > 0 && i < iHeaderCatCnt-1) ? 'margin-right2' : '' %> partname partname100 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
									
								<% } %>
								
								<!-- IF SHORT OF COLUMNS DUE TO LESS CATEGORY THEN ADD BLANK COLUMNS TO FILL THE PAGE   -->
								<%	
									if (iHeaderCatCnt % gridCols > 0) {
										var iExtraCol = gridCols - (iHeaderCatCnt % gridCols);
										for (var i=iExtraCol; i > 0; i--) {
								%>												
										<div class="<%= (i-1 > 0) ? 'margin-right2' : '' %> partname partname100 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
										
								<%
										}
									}
								%>
								</div>
					<%
							});
						}
					%>
					
					<% if (iHeaderCatCnt == 0 && _.size(data) == 0) { %>
						<!-- <div class="msg-container"><%= sNoData %></div> -->
					<%	var iRowCnt = 0;
						_.each(aSortedStudList, function(oData,sID) {			
							iRowCnt++;												
						%>
							<div class="table-row">
							<% for (var i=gridCols; i > 0; i--) { %>
								<div class="<%= (i-1 > 0) ? 'margin-right2' : '' %> partname partname100 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>"></div>
							<% } %>
							</div> 
						<% }); %> 
					<% } %>
					<div class="clearfix"></div>
				</div>
				<div class="clearfix"></div>
				</div>
			</div>                       
				
			 <div class="clearfix"></div>
			</div>
			<div class="clearfix"></div>
			
		</div>                
		
		<div class="clearfix"></div>		
	</script>
	
	<!-- GLE HEADER -->
	<script type="text/template" id="gle-header">
		<!-- COLUMN HEADERS -->
		<div class="gleview-header">
			<div class="table-row-header header-full">
				<div class="paddingtitle bg-black" style="width:700px !important;">
					<div class="grade-collapse sprite">><</div><%= sItemName %>
				</div>
			</div>
			<div class="table-row-header header-grid">
			<% 
				var iHeaderCnt = 0;											
				_.each(ASSIGNMENT_INSTRUCTOR.GLE, function (oGle, key) { 
					iHeaderCnt++;				
			%>								
					<div class="margin-top1 margin-right1 paddingtitle bg-black"><%= oGle %></div>
				
			<% 	}); %>		
			</div>
		</div>
	</script>
	
	
	<!-- GLE GRID -->	
	<script type="text/template" id="gle-grid">			
		<div class="gleview-grid">								
		
<%
	var tot_assessment_sentence_comprehension_grade_assessment_stanine_score = 0.0,
		tot_assessment_passage_comprehension_grade_assessment_stanine_score = 0.0,
		tot_assessment_comprehension_composite_grade_assessment_stanine_score = 0.0,
		tot_assessment_comprehension_composite_grade_assessment_grade_equivalent_score = 0.0,
		tot_assessment_vocabulary_grade_assessment_stanine_score = 0.0,
		tot_assessment_vocabulary_grade_assessment_grade_equivalent_score = 0.0,
		tot_assessment_total_test_grade_assessment_stanine_score = 0.0,
		tot_assessment_total_test_grade_assessment_grade_equivalent_score = 0.0,
		tot_assessment_listening_comprehension_grade_assessment_stanine_score = 0.0,
		
		num_assessment_sentence_comprehension_grade_assessment_stanine_score = 0,
		num_assessment_passage_comprehension_grade_assessment_stanine_score = 0,
		num_assessment_comprehension_composite_grade_assessment_stanine_score = 0,
		num_assessment_comprehension_composite_grade_assessment_grade_equivalent_score = 0,
		num_assessment_vocabulary_grade_assessment_stanine_score = 0,
		num_assessment_vocabulary_grade_assessment_grade_equivalent_score = 0,
		num_assessment_total_test_grade_assessment_stanine_score = 0,
		num_assessment_total_test_grade_assessment_grade_equivalent_score = 0,
		num_assessment_listening_comprehension_grade_assessment_stanine_score = 0,
		
		entry_assessment_sentence_comprehension_grade_assessment_stanine_score = 0,
		entry_assessment_passage_comprehension_grade_assessment_stanine_score = 0,
		entry_assessment_comprehension_composite_grade_assessment_stanine_score = 0,
		entry_assessment_comprehension_composite_grade_assessment_grade_equivalent_score = 0,
		entry_assessment_vocabulary_grade_assessment_stanine_score = 0,
		entry_assessment_vocabulary_grade_assessment_grade_equivalent_score = 0,
		entry_assessment_total_test_grade_assessment_stanine_score = 0,
		entry_assessment_total_test_grade_assessment_grade_equivalent_score = 0,
		entry_assessment_listening_comprehension_grade_assessment_stanine_score = 0,
		
		value_assessment_sentence_comprehension_grade_assessment_stanine_score = 0,
		value_assessment_passage_comprehension_grade_assessment_stanine_score = 0,
		value_assessment_comprehension_composite_grade_assessment_stanine_score = 0,
		value_assessment_comprehension_composite_grade_assessment_grade_equivalent_score = 0,
		value_assessment_vocabulary_grade_assessment_stanine_score = 0,
		value_assessment_vocabulary_grade_assessment_grade_equivalent_score = 0,
		value_assessment_total_test_grade_assessment_stanine_score = 0,
		value_assessment_total_test_grade_assessment_grade_equivalent_score = 0,
		value_assessment_listening_comprehension_grade_assessment_stanine_score = 0,
		
		last_assessment_sentence_comprehension_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK,
		last_assessment_passage_comprehension_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK,
		last_assessment_comprehension_composite_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK,
		last_assessment_comprehension_composite_grade_assessment_grade_equivalent_score = CHARACTERS.c_s_BLANK,
		last_assessment_vocabulary_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK,
		last_assessment_vocabulary_grade_assessment_grade_equivalent_score = CHARACTERS.c_s_BLANK,
		last_assessment_total_test_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK,
		last_assessment_total_test_grade_assessment_grade_equivalent_score = CHARACTERS.c_s_BLANK,
		last_assessment_listening_comprehension_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK,
		
		is_same_assessment_sentence_comprehension_grade_assessment_stanine_score = true,
		is_same_assessment_passage_comprehension_grade_assessment_stanine_score = true,
		is_same_assessment_comprehension_composite_grade_assessment_stanine_score = true,
		is_same_assessment_comprehension_composite_grade_assessment_grade_equivalent_score = true,
		is_same_assessment_vocabulary_grade_assessment_stanine_score = true,
		is_same_assessment_vocabulary_grade_assessment_grade_equivalent_score = true,
		is_same_assessment_total_test_grade_assessment_stanine_score = true,
		is_same_assessment_total_test_grade_assessment_grade_equivalent_score = true,
		is_same_assessment_listening_comprehension_grade_assessment_stanine_score = true;
							
		for(var key = 0; key < aData.length; key++) {
		
			var obj = aData[key];							
			
			assessment_sentence_comprehension_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK;
			assessment_passage_comprehension_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK;
			assessment_comprehension_composite_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK;
			assessment_comprehension_composite_grade_assessment_grade_equivalent_score = CHARACTERS.c_s_BLANK;
			assessment_vocabulary_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK;
			assessment_vocabulary_grade_assessment_grade_equivalent_score = CHARACTERS.c_s_BLANK;
			assessment_total_test_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK;
			assessment_total_test_grade_assessment_grade_equivalent_score = CHARACTERS.c_s_BLANK;
			assessment_listening_comprehension_grade_assessment_stanine_score = CHARACTERS.c_s_BLANK;
			
			if(typeof obj != "object" || obj == null || Object.keys(obj).length == 0) {										
				// Invalid data
			} else {
				try {
					// Total Test: GLE
					entry_assessment_total_test_grade_assessment_grade_equivalent_score = obj[ASSIGNMENTS.c_s_ASSESSMENT_TOTAL_TEST][ASSIGNMENTS.c_s_ASSESSMENT_GRADE_EQUIVALENT];
					if (!isNaN(value_assessment_total_test_grade_assessment_grade_equivalent_score = getActualValue(entry_assessment_total_test_grade_assessment_grade_equivalent_score))) {
						num_assessment_sentence_comprehension_grade_assessment_stanine_score++;
						num_assessment_passage_comprehension_grade_assessment_stanine_score++;
						num_assessment_comprehension_composite_grade_assessment_stanine_score++;
						num_assessment_comprehension_composite_grade_assessment_grade_equivalent_score++;
						num_assessment_vocabulary_grade_assessment_stanine_score++;
						num_assessment_vocabulary_grade_assessment_grade_equivalent_score++;
						num_assessment_total_test_grade_assessment_stanine_score++;
						num_assessment_total_test_grade_assessment_grade_equivalent_score++;
						num_assessment_listening_comprehension_grade_assessment_stanine_score++;
						
						tot_assessment_total_test_grade_assessment_grade_equivalent_score += value_assessment_total_test_grade_assessment_grade_equivalent_score;
						
						if (last_assessment_total_test_grade_assessment_grade_equivalent_score !== CHARACTERS.c_s_BLANK) {
							if (last_assessment_total_test_grade_assessment_grade_equivalent_score !== entry_assessment_total_test_grade_assessment_grade_equivalent_score) {
								is_same_assessment_total_test_grade_assessment_grade_equivalent_score = false;
							}
						}
						else {
							last_assessment_total_test_grade_assessment_grade_equivalent_score = entry_assessment_total_test_grade_assessment_grade_equivalent_score;
						}
					}
					// Sentence Comprehension: Stanine
					entry_assessment_sentence_comprehension_grade_assessment_stanine_score = obj[ASSIGNMENTS.c_s_ASSESSMENT_SENTENCE_COMPREHENSION][ASSIGNMENTS.c_s_ASSESSMENT_STANINE];
					if (!isNaN(value_assessment_sentence_comprehension_grade_assessment_stanine_score = getActualValue(entry_assessment_sentence_comprehension_grade_assessment_stanine_score))) {
						tot_assessment_sentence_comprehension_grade_assessment_stanine_score += value_assessment_sentence_comprehension_grade_assessment_stanine_score;
						
						if (last_assessment_sentence_comprehension_grade_assessment_stanine_score !== CHARACTERS.c_s_BLANK) {
							if (last_assessment_sentence_comprehension_grade_assessment_stanine_score !== entry_assessment_sentence_comprehension_grade_assessment_stanine_score) {
								is_same_assessment_sentence_comprehension_grade_assessment_stanine_score = false;
							}
						}
						else {
							last_assessment_sentence_comprehension_grade_assessment_stanine_score = entry_assessment_sentence_comprehension_grade_assessment_stanine_score;
						}
					}
					// Passage Comprehension: Stanine
					entry_assessment_passage_comprehension_grade_assessment_stanine_score = obj[ASSIGNMENTS.c_s_ASSESSMENT_PASSAGE_COMPREHENSION][ASSIGNMENTS.c_s_ASSESSMENT_STANINE];
					if (!isNaN(value_assessment_passage_comprehension_grade_assessment_stanine_score = getActualValue(entry_assessment_passage_comprehension_grade_assessment_stanine_score))) {
						tot_assessment_passage_comprehension_grade_assessment_stanine_score += value_assessment_passage_comprehension_grade_assessment_stanine_score;
						
						if (last_assessment_passage_comprehension_grade_assessment_stanine_score !== CHARACTERS.c_s_BLANK) {
							if (last_assessment_passage_comprehension_grade_assessment_stanine_score !== entry_assessment_passage_comprehension_grade_assessment_stanine_score) {
								is_same_assessment_passage_comprehension_grade_assessment_stanine_score = false;
							}
						}
						else {
							last_assessment_passage_comprehension_grade_assessment_stanine_score = entry_assessment_passage_comprehension_grade_assessment_stanine_score;
						}
					}
					// Comprehension Composite: Stanine
					entry_assessment_comprehension_composite_grade_assessment_stanine_score = obj[ASSIGNMENTS.c_s_ASSESSMENT_COMPREHENSION_COMPOSITE][ASSIGNMENTS.c_s_ASSESSMENT_STANINE];
					if (!isNaN(value_assessment_comprehension_composite_grade_assessment_stanine_score = getActualValue(entry_assessment_comprehension_composite_grade_assessment_stanine_score))) {
						tot_assessment_comprehension_composite_grade_assessment_stanine_score += value_assessment_comprehension_composite_grade_assessment_stanine_score;
						
						if (last_assessment_comprehension_composite_grade_assessment_stanine_score !== CHARACTERS.c_s_BLANK) {
							if (last_assessment_comprehension_composite_grade_assessment_stanine_score !== entry_assessment_comprehension_composite_grade_assessment_stanine_score) {
								is_same_assessment_comprehension_composite_grade_assessment_stanine_score = false;
							}
						}
						else {
							last_assessment_comprehension_composite_grade_assessment_stanine_score = entry_assessment_comprehension_composite_grade_assessment_stanine_score;
						}
					}
					// Comprehension Composite: GLE
					entry_assessment_comprehension_composite_grade_assessment_grade_equivalent_score = obj[ASSIGNMENTS.c_s_ASSESSMENT_COMPREHENSION_COMPOSITE][ASSIGNMENTS.c_s_ASSESSMENT_GRADE_EQUIVALENT];
					if (!isNaN(value_assessment_comprehension_composite_grade_assessment_grade_equivalent_score = getActualValue(entry_assessment_comprehension_composite_grade_assessment_grade_equivalent_score))) {
						tot_assessment_comprehension_composite_grade_assessment_grade_equivalent_score += value_assessment_comprehension_composite_grade_assessment_grade_equivalent_score;
						
						if (last_assessment_comprehension_composite_grade_assessment_grade_equivalent_score !== CHARACTERS.c_s_BLANK) {
							if (last_assessment_comprehension_composite_grade_assessment_grade_equivalent_score !== entry_assessment_comprehension_composite_grade_assessment_grade_equivalent_score) {
								is_same_assessment_comprehension_composite_grade_assessment_grade_equivalent_score = false;
							}
						}
						else {
							last_assessment_comprehension_composite_grade_assessment_grade_equivalent_score = entry_assessment_comprehension_composite_grade_assessment_grade_equivalent_score;
						}
					}
					// Vocabulary: Stanine
					entry_assessment_vocabulary_grade_assessment_stanine_score = obj[ASSIGNMENTS.c_s_ASSESSMENT_VOCABULARY][ASSIGNMENTS.c_s_ASSESSMENT_STANINE];
					if (!isNaN(value_assessment_vocabulary_grade_assessment_stanine_score = getActualValue(entry_assessment_vocabulary_grade_assessment_stanine_score))) {
						tot_assessment_vocabulary_grade_assessment_stanine_score += value_assessment_vocabulary_grade_assessment_stanine_score;
						
						if (last_assessment_vocabulary_grade_assessment_stanine_score !== CHARACTERS.c_s_BLANK) {
							if (last_assessment_vocabulary_grade_assessment_stanine_score !== entry_assessment_vocabulary_grade_assessment_stanine_score) {
								is_same_assessment_vocabulary_grade_assessment_stanine_score = false;
							}
						}
						else {
							last_assessment_vocabulary_grade_assessment_stanine_score = entry_assessment_vocabulary_grade_assessment_stanine_score;
						}
					}
					// Vocabulary: GLE
					entry_assessment_vocabulary_grade_assessment_grade_equivalent_score = obj[ASSIGNMENTS.c_s_ASSESSMENT_VOCABULARY][ASSIGNMENTS.c_s_ASSESSMENT_GRADE_EQUIVALENT];
					if (!isNaN(value_assessment_vocabulary_grade_assessment_grade_equivalent_score = getActualValue(entry_assessment_vocabulary_grade_assessment_grade_equivalent_score))) {
						tot_assessment_vocabulary_grade_assessment_grade_equivalent_score += value_assessment_vocabulary_grade_assessment_grade_equivalent_score;
						
						if (last_assessment_vocabulary_grade_assessment_grade_equivalent_score !== CHARACTERS.c_s_BLANK) {
							if (last_assessment_vocabulary_grade_assessment_grade_equivalent_score !== entry_assessment_vocabulary_grade_assessment_grade_equivalent_score) {
								is_same_assessment_vocabulary_grade_assessment_grade_equivalent_score = false;
							}
						}
						else {
							last_assessment_vocabulary_grade_assessment_grade_equivalent_score = entry_assessment_vocabulary_grade_assessment_grade_equivalent_score;
						}
					}
					// Total Test: Stanine
					entry_assessment_total_test_grade_assessment_stanine_score = obj[ASSIGNMENTS.c_s_ASSESSMENT_TOTAL_TEST][ASSIGNMENTS.c_s_ASSESSMENT_STANINE];
					if (!isNaN(value_assessment_total_test_grade_assessment_stanine_score = getActualValue(entry_assessment_total_test_grade_assessment_stanine_score))) {
						tot_assessment_total_test_grade_assessment_stanine_score += value_assessment_total_test_grade_assessment_stanine_score;
						
						if (last_assessment_total_test_grade_assessment_stanine_score !== CHARACTERS.c_s_BLANK) {
							if (last_assessment_total_test_grade_assessment_stanine_score !== entry_assessment_total_test_grade_assessment_stanine_score) {
								is_same_assessment_total_test_grade_assessment_stanine_score = false;
							}
						}
						else {
							last_assessment_total_test_grade_assessment_stanine_score = entry_assessment_total_test_grade_assessment_stanine_score;
						}
					}
					// Listening Comprehension: Stanine
					entry_assessment_listening_comprehension_grade_assessment_stanine_score = obj[ASSIGNMENTS.c_s_ASSESSMENT_LISTENING_COMPREHENSION][ASSIGNMENTS.c_s_ASSESSMENT_STANINE];
					if (!isNaN(value_assessment_listening_comprehension_grade_assessment_stanine_score = getActualValue(entry_assessment_listening_comprehension_grade_assessment_stanine_score))) {
						tot_assessment_listening_comprehension_grade_assessment_stanine_score += value_assessment_listening_comprehension_grade_assessment_stanine_score;
						
						if (last_assessment_listening_comprehension_grade_assessment_stanine_score !== CHARACTERS.c_s_BLANK) {
							if (last_assessment_listening_comprehension_grade_assessment_stanine_score !== entry_assessment_listening_comprehension_grade_assessment_stanine_score) {
								is_same_assessment_listening_comprehension_grade_assessment_stanine_score = false;
							}
						}
						else {
							last_assessment_listening_comprehension_grade_assessment_stanine_score = entry_assessment_listening_comprehension_grade_assessment_stanine_score;
						}
					}
					
					assessment_sentence_comprehension_grade_assessment_stanine_score = (entry_assessment_sentence_comprehension_grade_assessment_stanine_score + CHARACTERS.c_s_BLANK).replace("<", "&lt;").replace(">", "&gt;");
					assessment_passage_comprehension_grade_assessment_stanine_score = (entry_assessment_passage_comprehension_grade_assessment_stanine_score + CHARACTERS.c_s_BLANK).replace("<", "&lt;").replace(">", "&gt;");
					assessment_comprehension_composite_grade_assessment_stanine_score = (entry_assessment_comprehension_composite_grade_assessment_stanine_score + CHARACTERS.c_s_BLANK).replace("<", "&lt;").replace(">", "&gt;");
					assessment_comprehension_composite_grade_assessment_grade_equivalent_score = (entry_assessment_comprehension_composite_grade_assessment_grade_equivalent_score + CHARACTERS.c_s_BLANK).replace("<", "&lt;").replace(">", "&gt;");
					assessment_vocabulary_grade_assessment_stanine_score = (entry_assessment_vocabulary_grade_assessment_stanine_score + CHARACTERS.c_s_BLANK).replace("<", "&lt;").replace(">", "&gt;");
					assessment_vocabulary_grade_assessment_grade_equivalent_score = (entry_assessment_vocabulary_grade_assessment_grade_equivalent_score + CHARACTERS.c_s_BLANK).replace("<", "&lt;").replace(">", "&gt;");
					assessment_total_test_grade_assessment_stanine_score = (entry_assessment_total_test_grade_assessment_stanine_score + CHARACTERS.c_s_BLANK).replace("<", "&lt;").replace(">", "&gt;");
					assessment_total_test_grade_assessment_grade_equivalent_score = (entry_assessment_total_test_grade_assessment_grade_equivalent_score + CHARACTERS.c_s_BLANK).replace("<", "&lt;").replace(">", "&gt;");
					assessment_listening_comprehension_grade_assessment_stanine_score = (entry_assessment_listening_comprehension_grade_assessment_stanine_score + CHARACTERS.c_s_BLANK).replace("<", "&lt;").replace(">", "&gt;");
				}
				catch (exp) {
					console.log("Data Error Occured: " + exp)
				}
			}
			
		iDataCnt = key+1;	
%>                

		<div class="table-row" style="width: 700px;">						
			<div class="margin-right1 partname partname100 line-clamp <%= (iDataCnt % 2 == 0) ? 'even' : 'odd'%>" >
				<%= assessment_sentence_comprehension_grade_assessment_stanine_score %></div>
			<div class="margin-right1 partname partname100 line-clamp <%= (iDataCnt % 2 == 0) ? 'even' : 'odd'%>" >
				<%= assessment_passage_comprehension_grade_assessment_stanine_score %></div>
			<div class="margin-right1 partname partname100 line-clamp <%= (iDataCnt % 2 == 0) ? 'even' : 'odd'%>" >
				<%= assessment_comprehension_composite_grade_assessment_stanine_score %></div>
			<div class="margin-right1 partname partname100 line-clamp <%= (iDataCnt % 2 == 0) ? 'even' : 'odd'%>" >
				<%= assessment_comprehension_composite_grade_assessment_grade_equivalent_score %></div>
			<div class="margin-right1 partname partname100 line-clamp <%= (iDataCnt % 2 == 0) ? 'even' : 'odd'%>" >
				<%= assessment_vocabulary_grade_assessment_stanine_score %></div>
			<div class="margin-right1 partname partname100 line-clamp <%= (iDataCnt % 2 == 0) ? 'even' : 'odd'%>" >
				<%= assessment_vocabulary_grade_assessment_grade_equivalent_score %></div>
			<div class="margin-right1 partname partname100 line-clamp <%= (iDataCnt % 2 == 0) ? 'even' : 'odd'%>" >
				<%= assessment_total_test_grade_assessment_stanine_score %></div>
			<div class="margin-right1 partname partname100 line-clamp <%= (iDataCnt % 2 == 0) ? 'even' : 'odd'%>" >
				<%= assessment_total_test_grade_assessment_grade_equivalent_score %></div>
			<div class="margin-right1 partname partname100 line-clamp <%= (iDataCnt % 2 == 0) ? 'even' : 'odd'%>" >
				<%= assessment_listening_comprehension_grade_assessment_stanine_score %></div>							
			<div class="clearfix"></div>
		</div>
<%
		}
%>			
             
        </div>
	</script>

	
	<!-- SCORE TEMPLATE -->
	<script type="text/template" id="scoreTemplate">
<%
	/*==== IPP-5024 ====*/
	var sAssignmentType = objModel.assignmentType,
		aRubricHeaderLabels = [];
	/*== End IPP-5024 ==*/	
	try{
		var objStudentDetails = _.where(objStudentListJsonData.Content, {UserID : objModel.studentId}),
			sStudentName = objStudentDetails[0].UserDisplayName;
	}
	catch(exp){
		var sStudentName = $(".studentName[data-id='"+objModel.studentId+"']").text();
	}
	var studentRubricSelection = null,
		objQuestions = (objModel.rubric == null) ? null : objModel.rubric.questions;

	if(objQuestions != null) {
		var objQuestionsLen =   Object.keys(objModel.rubric.questions).length,
			choiceLength = 0;

		for(var i = 1; i <= Object.keys(objQuestions).length; i++) {
			if(Object.keys(objQuestions[i].choices).length >= choiceLength) {
				choiceLength = Object.keys(objQuestions[i].choices).length;
				if (sAssignmentType === "dailyassignment") {
					if (aRubricHeaderLabels.length === 0) {
						for (var j in objQuestions[i].choices) {
							aRubricHeaderLabels.splice(0, 0, objQuestions[i].choices[j].text); // IPP-5024
						}
					}
				}
			}
		}
		studentRubricSelection  =   objModel.rubricSelection;
	}	
%>
	<div class="score-modal" id="scoreContainer" data-item="<%= objModel.itemId %>" data-itemattemptid="<%= objModel.itemAttemptId %>" data-student="<%= objModel.studentId %>" data-itemtype="<%= objModel.assignmentType %>">
		<div class="scoreModalContainer">
			<div class="wrapper">
				<div class="header">
					<div class="header_inner assignment_header">
						<nav class="top_navbar">
							<button class="button9 left margin_none" id="btnCloseModal" type="button">Close</button>
							<div class="middle center" style="padding: 3px 0 0 0; line-height:24px;">
								<%=sStudentName%> - <%=objModel.displayText%>
							</div>
							<div class="clear"></div>
						</nav>
					</div>
					<div class="clear"></div>
				</div>
				<div class="assignment_slider_wrapper gradient grading_page_container" id="scoreContentWrapper">
					<div class="scoreColumnContainer">
						<div class="grading_page_container_rght right">
							<div class="grading_page_btn_box">
					<button class="btn button7" type="button" data-index="0"><%= ASSIGNMENT_INSTRUCTOR_SCORE.buttons.c_s_LABEL_REASSIGN_TO_STUDENT %></button>
							<%								
								if (
									objModel.assignmentType == "essay" || 
									objModel.assignmentType == "paragraph" || 
									objModel.assignmentType == "dailyassignment" || 
									objModel.assignmentType == "iwt" || 
									objModel.assignmentType == "phonictextbasedslide" || 
									objModel.assignmentType == "extendedphonic" || 
									objModel.assignmentType == "frs"
								) {
									if(
										objModel.assignmentType != "phonictextbasedslide" && 
										objModel.assignmentType != "extendedphonic" && 
										objModel.assignmentType != "frs"
									){										
										var scoreLevel  =   (
																objModel.assignmentType == "dailyassignment" || 
																objModel.assignmentType == "iwt"
															) 
															? ASSIGNMENT_INSTRUCTOR_SCORE.buttons.c_s_LABEL_SCORE 
															: ASSIGNMENT_INSTRUCTOR_SCORE.buttons.c_s_LABEL_RESCORE;
							%>
								<button class="btn button7" type="button" data-index="1"><%= scoreLevel %></button>
							<%
									}
									if(
										objModel.assignmentType != "dailyassignment" && 
										objModel.assignmentType != "iwt"
									){										
							%>
								<button class="btn button7" type="button" id="acceptScore" data-index="2">
									<%= ASSIGNMENT_INSTRUCTOR_SCORE.buttons.c_s_LABEL_ACCEPT_SCORE %>
								</button>
							<% 
									}
								}							
							%>
								<div class="clear"></div>
                            </div>

                            <div class="grading_page_pop_box">
                                <div class="right_grading_title">
									<span class="light_box_close sprite"></span>
									<div class="middle"><%= ASSIGNMENT_INSTRUCTOR.c_i_CANCEL_BUTTON %></div>
                                </div>
                                <div class="right_grading_title second_title">                                    
									<div class="center"><%= ASSIGNMENT_INSTRUCTOR_SCORE.headings.c_s_LABEL_REASSIGN_TO_STUDENT %></div>
                                </div>
                                <div class="grading_page_content">
                                    <div class="grading_text_area">
                                        <p><%= ASSIGNMENT_INSTRUCTOR_SCORE.labels.c_s_LABEL_ADD_COMMENTS %></p>
                                        <div class="textarea_drading textAreaL">
                                            <textarea class="" id="comments"></textarea>
                                        </div>
                                        <div class="clear"></div>
                                    </div>
                                    <div class="btnReassignWrap">
                                        <button class="btn button7 right margin_right_none" id="btnReassign" type="button">
                                            <%= ASSIGNMENT_INSTRUCTOR_SCORE.buttons.c_s_LABEL_REASSIGN %>
                                        </button>
                                        <div class="clear"></div>
                                    </div>                                                                
                                    <div class="clear"></div>
                                </div>
                                <div class="clear"></div>
                            </div>
                            
							<div class="grading_page_pop_box grading_score_pop_box">
								<div class="right_grading_title cancel_area">
									<%=ASSIGNMENT_INSTRUCTOR.c_i_CANCEL_BUTTON%>
									<span class="light_box_close sprite" id="light_box_close"></span>
									<div class="clear"></div>
								</div>
                                <!--<div class="right_grading_title second_title">                                    
                                    <div class="middle center">Rubric: 10 out of 24</div>
                                </div>-->
								<div class="verify_grid_cont updateRubric-content">
									<div class="verify_content">
										<div class="updateRubric">
											Rubric <span id="calculateRubric">0</span> out of <span id="maxRubric"></span>
										</div>
										<div class="clear"></div>
									</div>
								</div>                               
								<div class="verify_grid_cont"<% if (["essay", "paragraph"].indexOf(sAssignmentType) !== -1) { %> style="text-align:center;"<% } %>>
									<%	if (["essay", "paragraph"].indexOf(sAssignmentType) !== -1) { %>
									<button class="btn button7" id="btnShowRubricCriteria" type="button">
										<%= ASSIGNMENT_INSTRUCTOR_SCORE.buttons.c_s_LABEL_SCORING_RUBRIC_CRITERIA %>
									</button>
<%
									}
									else if (sAssignmentType === "dailyassignment") {									
										for (var j = 0; j < aRubricHeaderLabels.length; j++) {
											sCls = ((j + 1 === aRubricHeaderLabels.length)? "right": "left");
											if (j === 0) {
%>
									<div id="da-rubric-label">
<%
											}
%>
										<div class="<%= sCls %> da-rubric-label-box" style="width:<%= Math.floor(100 / aRubricHeaderLabels.length) %>%; text-align:center;">
											<%= aRubricHeaderLabels[j] %>
										</div>
<%
											if ((j + 1) === aRubricHeaderLabels.length) {
%>
										<div class="clear"></div>
									</div>
<%
											}
										}
									}
									else {
%>
									<div class="left"><%= ASSIGNMENT_INSTRUCTOR_SCORE.labels.c_s_LABEL_INEFFECTIVE %></div>
									<div class="right"><%= ASSIGNMENT_INSTRUCTOR_SCORE.labels.c_s_LABEL_VERY_EFFECTIVE %></div>
<%									
									}									
%>
									<div class="clear"></div>
									<% if (["essay", "paragraph"].indexOf(sAssignmentType) === -1) { %>
									<div class="verify_content" id="rubric-header-cont">
										<table width="100%" border="0" cellspacing="0" cellpadding="0">
											<tr>
												<% if (sAssignmentType !== "dailyassignment") { %>
												<td align="center"> &nbsp; </td>
												<% } %>
										<% for(var i = 1; i <= choiceLength; i++) { %>
												<td align="center" valign="middle"><%=i%></td>
										<% } %>
											</tr>
										</table>
										<div class="clear"></div>
									</div>
									<% } %>
								</div>
                                <div class="grading_page_content" id="scoreBoxScroll">
								<% if (objQuestions != null) { %>
                                    <ul>
								<%                            
									var objChoices 	    = null,
										objChoicesLen   = 0,
										sClassLi        = "",
										sClassCircle    = "",
										objSelection    = null, 
										objRubricSelect =   null;

									for (var i = 1; i <= objQuestionsLen; i++) {
										if(i == objQuestionsLen) {
											sClassLi = "last";
										}
										objChoices    = objQuestions[i].choices;
										objChoicesLen = Object.keys(objQuestions[i].choices).length;
                                                
										if(studentRubricSelection != null) {
											objSelection    = _.where(studentRubricSelection, {name: objQuestions[i].trait});
											objRubricSelect = (typeof objSelection[0] == "undefined") ? null : objSelection[0];
										}
								%>
                                        <li class="param <%=sClassLi%>" data-trait="<%=objQuestions[i].trait%>">
                                            <p><%=objQuestions[i].text%></p>
                                            <div class="circle_area_container">
<%
										if (["essay", "paragraph"].indexOf(sAssignmentType) !== -1) {
%>
												<div class="circle_page sprite scoring-guide-info left" data-scoring-guide-id="<%= i %>"></div>
<%
										}
										for(var j = 1; j <= objChoicesLen; j++) {
											sActiveClassCircle = "";
											if(j == objChoicesLen) {
												sClassCircle = "margin_right_none";
											}
											if(
												objRubricSelect != null && 
												j == objRubricSelect.score
											){
												sActiveClassCircle = "active";
											}
											if (sAssignmentType === "dailyassignment") {
								%>
												<div class="left da-score-column-<%= j %>">
											<% } %>
													<div class="circle_page sprite <%= sClassCircle %> <%= sActiveClassCircle %>" data-value="<%= j %>">
														<%=j%>
													</div>
								<%
											if (sAssignmentType === "dailyassignment") {
%>
												</div>
<%											
											}
										}
								%>                                                
												<div class="clear"></div>
											</div>
										</li>
								<% 
									}
								%>
                                    </ul>
								<%
								}								
								%>
                                    <div class="grading_text_area" style="display:none;">
                                        <p>Add Comments</p>
                                        <div class="textarea_drading">
                                            <textarea id="commentScore"></textarea>
                                        </div>
                                        <!--<button class="btn button7 right margin_right_none" type="button">Submit</button>
                                        <div class="clear"></div>-->
                                    </div>
                                    
                                    <div class="btnScoreWrap">
                                        <button class="btn button7 right" id="btnScore" type="button">
                                            <%= ASSIGNMENT_INSTRUCTOR_SCORE.buttons.c_s_LABEL_SUBMIT %>
                                        </button>
                                        <div class="clear"></div>
                                    </div>
                                    <div class="clear"></div>
                                </div>
                                <div class="clear"></div>
                            </div>
                            <div class="grading_page_pop_box"></div>
                            <div class="grading_page_pop_box"></div>
                            <div class="clear"></div>
                        </div>                   
						<div class="middle">
							<div class="grading_page_container_lft left">
								
								<div class="grading_page_content" id="scoreContentInterWrapper">
									<!-- score inner content wrapper -->
									<%
									if(
										objModel.assignmentType == "essay" || 
										objModel.assignmentType == "paragraph" || 
										objModel.assignmentType == "dailyassignment" || 
										objModel.assignmentType == "iwt"
									){
									%>
									
									<%= _.template($("#scoreInnerContentTemplate").html())({"objModel": objModel}) %>
									<%
									}
									else if(
										objModel.assignmentType == "phonictextbasedslide" || 
										objModel.assignmentType == "extendedphonic" || 
										objModel.assignmentType == "frs"
									){
									%>
									<%= _.template($("#scoreOFInnerContentTemplate").html())({"objModel": objModel}) %>	
									<%
									} else {
									
									}									
									%>
								</div>
								<div class="clear"></div> 
							</div>
							<div class="clear"></div>
							<div>
								<div class="clear"></div>
							</div>
							<div class="clear"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>	
	<!-- <div class="md-overlay"></div> -->
</script>


<!-- Score Inner Content Template -->
<script type="text/template" id="scoreInnerContentTemplate">
	<%
	var studentRubricSelection = null,
			objQuestions = (objModel.rubric == null) ? null : objModel.rubric.questions;

	if(objQuestions != null) {
		var objQuestionsLen =   Object.keys(objModel.rubric.questions).length,
			choiceLength = 0;

		for(var i = 1; i <= Object.keys(objQuestions).length; i++) {
			if(Object.keys(objQuestions[i].choices).length >= choiceLength) {
				choiceLength = Object.keys(objQuestions[i].choices).length;
			}
		}
		studentRubricSelection  =   objModel.rubricSelection;
	}	
	%>
	<h2><%=objModel.displayText%></h2>
	<h4><%= ASSIGNMENT_INSTRUCTOR_SCORE.headings.c_s_LABEL_PROMPT %></h4>
	<p><%=objModel.prompt%></p>
	<% 
	if(objQuestions != null && objModel.showScore == true) {
	%>
	<div class="Scores_content">
		<h4>Scores</h4>
		<ul>
	<%
		var $length =   Object.keys(ASSIGNMENT_INSTRUCTOR_SCORE.scoreLevel).length;
		for(var cnt = 0; cnt < $length - 1; cnt++) {
			objSelectionRight = _.where(studentRubricSelection, {
									name: ASSIGNMENT_INSTRUCTOR_SCORE.scoreLevel[cnt].c_s_RUBRIC_LABEL
									}
								);
			objRubricSelectRight = (typeof objSelectionRight[0] == "undefined") ? null : objSelectionRight[0];
			if(objRubricSelectRight != null) {
				if(cnt < $length - 1) {
					prevScore = objRubricSelectRight.score;
				}
	%>
			<li>
				<%= ASSIGNMENT_INSTRUCTOR_SCORE.scoreLevel[cnt].c_s_RUBRIC_TEXT %> 
				<%= prevScore %> / <%= Object.keys(objQuestions[cnt + 1].choices).length %>
			</li>
	<% 
			}
		}
		if(objModel.overAllScore != null) {
	%>
			<li>
				<%= ASSIGNMENT_INSTRUCTOR_SCORE.scoreLevel[6].c_s_RUBRIC_TEXT %> 
				<%= objModel.overAllScore %> / <%= choiceLength %>
			</li>
	<% 
		}
	%>
		</ul>
		<div class="clear"></div>
	</div>
	<% 
	}
	%>
	<div class="middle_devider"></div>
	<%
	if(objModel.studentResponse != "") {
	%>
		<h2><%= ASSIGNMENT_INSTRUCTOR_SCORE.headings.c_s_LABEL_STUDENT_RESPONSE %></h2>                  
		<div class="studentResponse">
			<%= objModel.studentResponse.replace("\n", "<br />").replace("&#10;", "<br />") %>
		</div>
	<%  
	} 
	%>
</script>


<!-- Strat: Oral Fluency Scoring Template -->
<script type="text/template" id="scoreOFInnerContentTemplate">
	<div class="of_title-main"><%= objModel.displayText %></div>
	<%
	if(
		(objModel.assignmentType == "phonictextbasedslide" || 
		objModel.assignmentType == "extendedphonic")
	){
	%>
	<div class="clear"></div>
	<div style="padding: 15px 0 5px;"><p>You can listen to the student's recording by clicking on the icon below.</p></div>
	<div class="clear"></div>
	<div class="singlePKTAudioPanel">
		<div class="audio-body">
			<div class="pktResponeConteainer">
				<div class="pktScoreResult">
					<div class="pkt-score">Scores</div>
					<div class="clear"></div>
					<div id="pkt_<%= objModel.studentResponse[0].question_id %>_<%= objModel.studentResponse[0].testInstanceId %>"  data-prompt-id="<%= objModel.studentResponse[0].promptid %>">
						<div class="oralFluencyLoader">
							<img src="media/loader.gif" style="margin-bottom: 15px; ">
						</div>
					</div>
					<div class="clear"></div>
					<div class="clear"></div>
				</div>
			</div>
			<div class="clear"></div>
			<div class="of_title-main">Student's Recording</div>
			<div class="clear"></div>
			<div class="pktAudioContainer">
				<img src="media/speaker-on.png" alt="" border="0" data-audiopath="<%= objModel.studentResponse[0].audiopath %>" class="audioButton" />
				<div class="clear"></div>
			</div>
			<div class="clear"></div>
		</div>
		<div class="clear"></div>
	</div>
	<%
	}
	else {
	%>
	<div class="audio-main">
	<%
	if (Object.keys(objModel.studentResponse).length) {
		$.each(objModel.studentResponse, function (Idx, Val) {
	%>
		<div class="audio-panel">
			<div class="audio-header">Part <%= Idx %></div>
	<%
			$.each(Val, function(iIdx, vVal) {			
	%>
			<div class="audio-body">
				<div class="pktheader-accordian"><%= vVal.displayText %></div>
				<div class="pktResponeConteainer">
					<div class="pktScoreResult">
						<div class="pkt-score">Scores</div>
						<div class="clear"></div>
						<div id="pkt_<%= vVal.question_id %>_<%= vVal.testInstanceId %>" data-prompt-id="<%= vVal.promptid %>">
							<div class="oralFluencyLoader">
								<img src="media/loader.gif" style="margin-bottom: 15px; ">
							</div>
						</div>
						<div class="clear"></div>
					</div>
				</div>
				<div class="clear"></div>
				<div class="pktAudioContainer">
					<img src="media/speaker-on.png" alt="" border="0" data-audiopath="<%= vVal.audiopath %>" class="audioButton" />
					<div class="clear"></div>
				</div>
				<div class="clear"></div>
			</div>
	<%
			});
	%>
			<div class="clear"></div>
		</div>
		
	<%
		});
	}
	%>
		<div class="clear"></div>
	</div>
	<%
	}
	%>
	<div class="clear"></div>
	<div style="padding: 15px 0 5px;"><p><strong>NOTE:</strong> You can listen to the students recording and decide whether or not to reassign. If you reassign, students will re-do the fluency portion of the assignment only. The fluency score for accuracy (percentage of words correct) makes up one half of the student's overall score on the activity, with the other half being composed of student responses on the comprehension and word study items.</p></div>
	<div class="clear"></div>
	<div style="display:none;">
		<audio id="audioPlayer" controls="false" autoplay="false" preload="true"></audio>
	</div>
</script>
<!-- End: Oral Fluency Scoring Template -->

<!-- Start: Oral Fluency PKT Score Content -->
<script type="text/template" id="oralFluencyPKTScoreTemplate">	
	<%
	if (
		pktVerified
	) {
		var nAccuracy = objScoreData.AC,
			nWordsCorrect = objScoreData.WC,
			nWCPM = objScoreData.WCPM,
			nEXP = objScoreData.EX,
			attrDisable = '';
		if (assignmentType == "frs") {
			attrDisable = 'disabled="disabled"';
		}
	} else {
		var nAccuracy = objScoreData[0].scoreValue,
			nWordsCorrect = objScoreData[2].scoreValue,
			nWCPM = objScoreData[1].scoreValue,
			nEXP = objScoreData[3].scoreValue,
			attrDisable = '';
	}
	%>
	<div class="ply-list">
		<ul>
			<li>
				<b>Accuracy: </b> <%= nAccuracy %> <br />
				<label>(percentage of words correct)</label>
			</li>
		</ul>
		<div class="clear"></div>
	</div>
	<div class="ply-list">
		<ul>
			<li>
				<b>Expressiveness: </b> <%= nEXP %> <br />
				<label>(1= lowest; 4 = highest)</label>
			</li>
		</ul>
		<div class="clear"></div>
	</div>
	<div class="ply-list">
		<ul>
			<li><b>WCPM: </b> <%= nWCPM %></li>
		</ul>
		<div class="clear"></div>
	</div>
	<div class="clear"></div>
	<%
	if(assignmentType == "frs"){
	%>
	<div class="radio-list">
		<div>
			<label>
				<input 
					type="radio" 
					name="radio_<%= questionId %>" 
					data-question="<%= questionId %>" 
					data-assignmenttype="<%= assignmentType %>" 
					data-accuracy="<%= nAccuracy %>" 
					data-wordscorrect="<%= nWordsCorrect %>" 
					data-wpcm="<%= nWCPM %>" 
					data-expressiveness="<%= nEXP %>" 
					value="APPROVE" 
					<% if(pktVerified) { %>
					checked	
					<% }%> 
					<%= attrDisable %> 
				/>
				Approve
			</label>
			
			<label>
				<input 
					type="radio" 
					name="radio_<%= questionId %>" 
					data-question="<%= questionId %>" 
					data-assignmenttype="<%= assignmentType %>" 
					data-accuracy="<%= nAccuracy %>" 
					data-wordscorrect="<%= nWordsCorrect %>" 
					data-wpcm="<%= nWCPM %>" 
					data-expressiveness="<%= nEXP %>" 
					value="REASSIGN" 
					<% if(!pktVerified) { %>
					checked 
					<% }%>
					<%= attrDisable %> 
				/>
				Reassign
			</label>
			<br />
		</div>
		<div class="clear"></div>
	</div>
	<div class="clear"></div>
	<%
	}
	%>
</script>
<!-- End: Oral Fluency PKT Score Content -->


<!-- CONTENT TEMPLATE RENDERING GRADING DASHBOARD -->
	<script type="text/template" id="dashboard-grading">
		<div class="table-slider-with grading-grid">
		<div class="table-slider-container">
            <div class="table-title-bar">
                <div class="table-column margin-right20">
                <div class="table-title">
                    <div class="margin-right2 partname bg-black">Student</div>
                    <div class="partname-qty bg-black">Lexile</div>
                    <div class="clearfix"></div>
                </div>
                
                <div class="clearfix"></div>
                </div>
                <div class="table-column2 margin-right2">
                    <div class="table-title table-title2">
                        <div class="slide-container">
							<div class="slide-item" style="width:679px; float:left;">
							<!-- COLUMN HEADERS -->							
							<div class="table-row-header">
							<% 
								var iHeaderCnt = 0;
								var iHeaderCatCnt = _.size(dataHeader);
								var iTotCols = iHeaderCatCnt;
								var sWidth = '';
								_.each(dataHeader, function (oCatg, key) { 
									iHeaderCnt++;
									sWidth = '';
									if (iHeaderCnt == 1) {sWidth = "style=width:65px";}
									else if (iHeaderCnt == iHeaderCatCnt) {sWidth = "style=width:155px";}									
							%>								
									<div class="<%= (iHeaderCnt % gridCols > 0) ? 'margin-right2' : '' %> paddingtitle thin bg-black" <%= sWidth %>>
										<%= oCatg %>
									</div>
								
							<% 	}); %>							
							
							</div>							
                             <div class="clearfix"></div>
							</div>                            
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="clearfix"></div>
            </div>
            
            <div class="table-content-wrapper">
                <div class="table-column margin-right20">
                    <div class="table-content">
						<!-- STUDENT LIST -->
						<% 
						var oData = {};
						var iStudCnt = 0;						
						aSortedStudList = _.sortBy(aStudentList, function(obj){return parseInt(obj.UserID);});
						
						_.each(aSortedStudList, function(oData,sID) {							
							iStudCnt++;									
						%>
							<div class="table-row">
								<div class="margin-right2 partname student-title line-clamp <%= (iStudCnt % 2 == 0) ? 'even' : 'odd'%>" data-SID="<%= oData.UserID %>"><%= oData.UserDisplayName %></div>
								<div class="partname-qty line-clamp <%= (iStudCnt % 2 == 0) ? 'even' : 'odd'%>" data-sid="<%= oData.UserID %>" data-lexile="true">
								<%= oData.UserCurrentLexileLevel %></div>                            
								<div class="clearfix"></div>
							</div> 
						<% }); %> 
						<div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                    
                </div>
                
                <!-- <div class="table-column2 margin-right2"> -->
                <div class="table-column2">
                    
                    <div class="table-content">
                    	<div class="slide-container">
                            <div class="slide-item" style="width:679px; float:left;">
							
							<!-- GRID -->
							<%	
								var oData = {};
								var iRowCnt = 0;
								var sWidth = '';
								_.each(data, function(oSData,SID) {									
									iRowCnt++;								
							%>
									<div class="table-row">
										<% 
											var iColCnt = 0;
											var iCatgCnt = _.size(oSData);
											_.each(oSData, function(oData, key) {												
												_.each(oData, function(val, k) {
													iColCnt++;
													sWidth = '';
													if (iColCnt == 1) {sWidth = "style=width:65px";}
													else if (iColCnt == iHeaderCatCnt) {sWidth = "style=width:155px";}	
											%>
												<div class="<%= (iColCnt % gridCols > 0) ? 'margin-right2' : '' %> partname-qty partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>" <%= sWidth %> data-SID="<%= SID %>" style="width: 97px;">
													<% if (val == "view") { %>
														<div class="view-recommended" data-SID="<%= SID %>">View</div>
													<% } else {%>
														<%= val %>
													<% } %>
												</div>
											<%
												});
											});
										%>										
										<div class="clearfix"></div>
									</div>
							<% }); %>							
                            <div class="clearfix"></div>
                        </div>
                    	<div class="clearfix"></div>
                    </div>                       
                        
                     <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                    
                </div>                
                
                <div class="clearfix"></div>
            </div>
			
			<!-- <% if (iHeaderCatCnt > 0 && _.size(data) > 0) { %> -->
            <div class="slide-pagination" <%= iHeaderCatCnt <= gridCols ? 'style="display:none;"' : 'style="display:block;"' %> >
				<!-- <button class="next-table-slide left-sl left_arrow sprite btn disabled"></button>  -->
				<button class="next-table-slide right-sl right_arrow sprite btn <%= iHeaderCatCnt <= gridCols ? 'disabled' : '' %>"></button>
			</div>
			<!-- <% } %> -->
            <div class="clearfix"></div>        
        
			<div class="clearfix"></div>
		</div>
		
		<div class="clearfix"></div>
	</div>
</script>


<!-- CONTENT TEMPLATE RENDERING READING DASHBOARD -->
	<script type="text/template" id="dashboard-reading">
		<div class="table-slider-with reading-grid">
		<div class="table-slider-container">
            <div class="table-title-bar">
                <div class="table-column margin-right20">
                <div class="table-title">
                    <div class="margin-right2 partname bg-black">Student</div>
                    <div class="partname-qty bg-black">Books Read</div>
                    <div class="clearfix"></div>
                </div>
                
                <div class="clearfix"></div>
                </div>
                <div class="table-column2 margin-right2">
                    <div class="table-title table-title2">
                        <div class="slide-container">
							<div class="slide-item" style="width:700px; float:left;">
							<!-- COLUMN HEADERS -->							
							<div class="table-row-header">
							<% 
								var iHeaderCnt = 0;
								var iHeaderCatCnt = _.size(dataHeader);
								var iTotCols = iHeaderCatCnt;
								var sWidth = '';
								_.each(dataHeader, function (oCatg, key) { 
									iHeaderCnt++;
									sWidth = '';
									if (iHeaderCnt == 1) {sWidth = "style=width:65px";}
									else if (iHeaderCnt == iHeaderCatCnt) {sWidth = "style=width:176px";}									
							%>								
									<div class="<%= (iHeaderCnt % gridCols > 0) ? 'margin-right2' : '' %> paddingtitle thin bg-black" <%= sWidth %>>
										<%= oCatg %>
									</div>
								
							<% 	}); %>							
							
							</div>							
                             <div class="clearfix"></div>
							</div>                            
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="clearfix"></div>
            </div>
            
            <div class="table-content-wrapper" id="reading-data-grid">
                <!-- Entire Data Grid Goes Here -->	
            </div>			
			<input type="hidden" id="iHeaderCatCntReading" value="<%= iHeaderCatCnt %>" />
			
			<!-- <% if (iHeaderCatCnt > 0 && _.size(data) > 0) { %> -->
            <div class="slide-pagination" <%= iHeaderCatCnt <= gridCols ? 'style="display:none;"' : 'style="display:block;"' %> >
				<button class="next-table-slide left-sl left_arrow sprite btn disabled"></button> 
				<button class="next-table-slide right-sl right_arrow sprite btn <%= iHeaderCatCnt <= gridCols ? 'disabled' : '' %>"></button>
			</div>
			<!-- <% } %> -->
            <div class="clearfix"></div>        
        
			<div class="clearfix"></div>
		</div>
		
		<div class="clearfix"></div>
	</div>
</script>

<!-- Reading Template Data Plotting -->
<script type="text/template" id="dashboard-reading-data">
	<div class="table-column margin-right20">
		<div class="table-content">
			<!-- STUDENT LIST -->
			<% 
			var oData = {};
			var iStudCnt = 0;						
			aSortedStudList = _.sortBy(aStudentList, function(obj){return parseInt(obj.UserID);});
			
			_.each(aSortedStudList, function(oData,sID) {							
				iStudCnt++;
			%>
				<div class="table-row">
					<div class="margin-right2 partname student-title line-clamp <%= (iStudCnt % 2 == 0) ? 'even' : 'odd'%>" data-SID="<%= oData.UserID %>" ><%= oData.UserDisplayName %></div>
					<div class="partname-qty line-clamp books-read <%= (iStudCnt % 2 == 0) ? 'even' : 'odd'%>" data-sid="<%= oData.UserID %>">
					<%= data[oData.UserID][0][0] %></div>                            
					<div class="clearfix"></div>
				</div> 
			<% }); %> 
			<div class="clearfix"></div>
		</div>
		<div class="clearfix"></div>
		
	</div>                
	
	<div class="table-column2">
		
		<div class="table-content">
			<div class="slide-container">
				<div class="slide-item" style="width:700px; float:left;">
				
				<!-- GRID -->
				<%	
					var oData = {};
					var iRowCnt = 0;
					var sWidth = '';
					_.each(data, function(oSData,SID) {									
						iRowCnt++;								
				%>
						<div class="table-row">
							<% 
								var iColCnt = 0;
								var iCatgCnt = _.size(oSData);
								_.each(oSData, function(oData, key) {												
									_.each(oData, function(val, k) {
										if (k > 0) { 
											iColCnt++;
											sWidth = '';
											if (iColCnt == 1) {
												sWidth = "style=width:65px";
												sLexile = 'data-lexile="true"';
											}														
											else if (iColCnt == iHeaderCatCnt) {
												sWidth = "style=width:176px";
												sLexile = '';
											}	
								%>
											<div class="<%= (iColCnt % gridCols > 0) ? 'margin-right2' : '' %> partname-qty partname50 line-clamp <%= (iRowCnt % 2 == 0) ? 'even' : 'odd'%>" <%= sWidth %> data-SID="<%= SID %>" style="width: 97px;" <%= sLexile %>>
												<% if (val == "view") { %>
													<div class="view-recommended" data-SID="<%= SID %>">View</div>
												<% } else {%>
													<%= val %>
												<% } %>
											</div>
								<%
										}
									});
								});
							%>										
							<div class="clearfix"></div>
						</div>
				<% }); %>							
				<div class="clearfix"></div>
			</div>
			<div class="clearfix"></div>
		</div>                       
			
		 <div class="clearfix"></div>
		</div>
		<div class="clearfix"></div>
		
	</div>                
	
	<div class="clearfix"></div>
</script>

<!-- Recommended Popup -->
<script type="text/template" id="recommendedTemplate">	
		<div class="popup_yellow recommended-pop">
		<div class="overley"></div> 
		<div class="popup_yellow_content">
			<div class="popup_yellow_inner ">
				<div id="recommendedPopUpCloseBtn" class="close_yew sprite3"></div>
				<div class="pop_title"><div class="pop_title_inn"><%= sTitle ? sTitle : "Recommended Books" %></div></div>
				<div class="popup_content_yellow">
				<div class="toprecommended_shorting" style="width: 487px; overflow: hidden;">
					<% var sDisplay = _.size(data) > 5 ? 'style="display:block;"' : 'style="display:none;"'; 
						var sDisable = _.size(data) > 5 ? '' : 'disable'; 
					%>
					<button id="prevRecommendBtn" class="lib-animation lib-next sprite disable disabled" type="button" style="display: none;"></button>
					<button id="nextRecommendBtn" class="lib-animation lib-prev sprite <%= sDisable %>" type="button" <%= sDisplay %>></button>
					<div class="Popup_student_inner"  style="width: 5000px; position: relative;">
						<% _.each(data, function(oData, key) { %>
						<div class="book-cover-slide bookItem <%= key == 0 ? 'active' : '' %>" data-book-id="<%= oData.book_id %>">
							<img src="<%= objLibraryJsonData.mediaPath + oData.book_image %>" alt="<%= oData.book_title %>">								
							<span class="unreviewed"></span>							
						</div>
						<% });	%>
					</div>
					<% if (_.size(data) == 0) {	%>
						<div class="recommended-msg"><%= noBooksMsg %></div>
					<% } %>
					<div class="clear"></div>
				</div>
				<div id="recommended-book-detail">
					<% if (_.size(data)) { %>
					<div class="modal-block-div">
						<h2><span class="font-weightnormal">Title :</span> <strong><%= data[0].book_title %></strong></h2>
						<h3>
							<span class="font-weightnormal">Authors :</span> 
							<strong><%= data[0].author_name %></strong>
						</h3>
						<h3>
							<span class="font-weightnormal">Lexile Level :</span> 
							<strong><%= data[0].lexile_level %></strong>
						</h3>
					</div>
					<% } %>
				</div>
				</div>
			</div>
		</div>
	</div>
</script>

<!-- Recommended Popup Book Description -->
<script type="text/template" id="bookTemplate">
	<div class="modal-block-div">
		<h2><span class="font-weightnormal">Title :</span> <strong><%= data.book_title %></strong></h2>
		<h3>
			<span class="font-weightnormal">Authors :</span> 
			<strong><%= data.author_name %></strong>
		</h3>
		<h3>
			<span class="font-weightnormal">Lexile Level :</span> 
			<strong><%= data.lexile_level %></strong>
		</h3>
	</div>
</script>


<!-- Confirmation Popup -->
<script type="text/template" id="confirmationTemplate">
	<div id="dialog" title=""></div>
</script>

<!-- Popup Template -->
<script type="text/template" id="popupTemplate">	
	<div class="md-modal md-effect-13 md-show <%= sClass %>" id="popupContent"></div>
    <div class="md-overlay"></div>	
</script>

<!-- Inventory Popup -->
<script type="text/template" id="inventoryTemplate">
	<div class="inventory-wrapper">
		<section class="container_spaceorganize dashboard_instructor">			
			<!-- header -->
			<div id="headerpanel">
				<header>
					<div class="header_inner">
						<nav class="top_navbar">
							<div class="left button_content">										
								<button class="left button9 active" id="bttnCloseInventory">Done</button>
							</div>														
							<div class="right profile_name_content">
								<div class="profile_view"><img src="media/student_img3.png" alt=""></div>
								<div class="middle profile_text"><%= data.studentName %></div>
							</div>
							<div class="middle unitname">Interest Inventory</div>
							<div class="clear"></div>
						</nav>
					<div class="clear"></div>
					</div>
					<div class="clear"></div>
				</header>
			</div>			
			<div class="clear"></div>
			
			<!-- tabs -->
			<div class="table-slider-tabscont">
			<ul class="table-slider-tabs">
				<%					
					for (var i=0; i < CONSTANTS.c_s_TABS.length; i++) { 
					sClass = i == 0 ? 'class="active"' : '';					
				%>
					<li><a href="#"  data-view="<%= i %>" <%= sClass %>>
					<%= CONSTANTS.c_s_TABS[i] %></a>
					</li>
				<% } %>								
				<div class="clearfix"></div>
			</ul>
			</div>
			
			<% 			
			var aQuestions = []; 
			var oAnswers = {};
			var sDisplayAnswer = '';
			var oSurveyResponse = {};
			var oStudenInterestInventory = {};			
			for (var i=0; i < CONSTANTS.c_s_TABS.length; i++) {				
				aQuestions  = data.inventoryQuestions[CONSTANTS.c_s_TABS_CODE[i]].Questions;
				oSurveyResponse = data.inventoryResponse["SurveyResponse_"+CONSTANTS.c_s_TABS_CODE[i]];
				oStudenInterestInventory = data.inventoryResponse["StudenInterestInventory_"+CONSTANTS.c_s_TABS_CODE[i]];				
				try {					
					oAnswers = oSurveyResponse ? JSON.parse(data.inventoryResponse["SurveyResponse_"+CONSTANTS.c_s_TABS_CODE[i]]) : oSurveyResponse;					
					oInterestAreas = oStudenInterestInventory ? JSON.parse(data.inventoryResponse["StudenInterestInventory_"+CONSTANTS.c_s_TABS_CODE[i]]) : oStudenInterestInventory;
					
				}
				catch (e) {					
					oAnswers = {};
					oInterestAreas = {};
				}
			%>
				<div class="inventory-question-box" id="question-answers<%= i %>" style="<%= i > 0 ? 'display:none' : '' %>">					 					
				<%
					if (typeof oAnswers == 'object' && _.size(oAnswers)) {
						var sAnswer = '';
						var aAnswerCode = [];					
						for (var j=0; j < aQuestions.length; j++) {
							aAnswerCode = oAnswers[aQuestions[j].FieldName];						
							if (typeof aAnswerCode == "object") {
								sDisplayAnswer = '';
								_.each(aAnswerCode, function (val, key){
									sAnswer = _.where(aQuestions[j].A, {"val" : val })[0];								
									sDisplayAnswer += sAnswer ? ( sDisplayAnswer ? ", "+sAnswer['display'] : sAnswer['display'] ) : '';
								});
							}
							else {
								sAnswer = _.where(aQuestions[j].A, {"val" : aAnswerCode })[0];							
								sDisplayAnswer = sAnswer ? sAnswer['display'] : '';							
							}
						%>
						<div class="qtn-answr-wrap">
							<div class="qstn"><b><%= j+1 %>.</b> <%= aQuestions[j].Q %></div>
							<div class="Answr"><b><%= sDisplayAnswer %></b></div>
							<div class="clearfix"></div>
						</div>
						<% }  %>
						
						<!-- Interest Areas -->
						<%	if (typeof oInterestAreas == 'object' && oInterestAreas.interestAreas) {
								sDisplayAnswer = '';
								for (var k=0; k < oInterestAreas.interestAreas.length; k++) {
									sAnswer = _.where(LIBRARY.c_s_INTEREST_INVENTORY_DRAGABLE.ITEMS, {'c_s_CODE': oInterestAreas.interestAreas[k]})[0];
									sDisplayAnswer += sAnswer ? (sDisplayAnswer ? ", "+sAnswer['c_s_NAME'] : sAnswer['c_s_NAME']) : '';
								}
						%>
							<div class="qtn-answr-wrap">
								<div class="qstn"><b><%= j+1 %>.</b> Interest Areas?</div>
								<div class="Answr"><b><%= sDisplayAnswer %></b></div>
								<div class="clearfix"></div>
							</div>							
						<% 	
						}
					}
					%>					
				</div>
			<% } %>	
		</section>
	</div>	
</script>

<!-- Review Popup -->
<script type="text/template" id="bookReviewTemplate">
	<div class="review-wrapper">		
			<div class="Library-wrapper-modal vertical-alignment-helper">
			<div class="modal-wrapper  vertical-align-center">
				<div class="modal-content-main">				
				<div class="modal-content-main-width" id="mainContainer">
					<div class="modal-head">						
						<div>Book Review</div>
						<div class="close_yew sprite3" id="bttnCloseReview"></div>
					</div>
					<div class="modal-container">
						<% if (data.reviewData.length) { %>
						<div class="review-book-list">
							<div class="wrapper-book-div" style="width: 500px; overflow: hidden;">
							<% var sDisplay = data.reviewData.length > 6 ? 'style="display:block;"' : 'style="display:none;"'; 
								var sDisable = data.reviewData.length > 6 ? '' : 'disable'; 
							%>
							<button id="prevPagingBtnRev" class="lib-animation lib-next sprite disable" type="button" style="display:none;"></button>
							<button id="nextPagingBtnRev"  class="lib-animation lib-prev sprite <%= sDisable %>" type="button" <%= sDisplay %>></button>
							<div class="Popup_student_inner" style="width: 5000px; position: relative;">								
								<%								
								var iCnt = 0;
								var oBookOne = {};
								var oBookInfo = {};									
								$.each(data.reviewData, function(Idx, Val){									
									var activeClass = "";
									if (iCnt == 0){
										activeClass = "active";
									}
									oBookInfo = _.where(data.bookDetail, {"book_id": Val.ItemID})[0];
									oBookOne = iCnt == 0 ? oBookInfo : oBookOne;
								%>								
									<div data-recordIndex="<%= Idx %>" class="book-cover-slide <%= activeClass %> bookItem" data-book-id="<%= Val.ItemID %>">
										<img src="<%= objLibraryJsonData.mediaPath + oBookInfo.book_image %>" alt="<%= oBookInfo.book_title %>" /> 
										<% 
										if(Val.is_reviewed != "Y"){
										%>
											<span class="unreviewed"></span>
										<%
										}
										%>
									</div>									
								<%
									iCnt++;	
								});									
								%>					
								
							</div>					
							<div class="clear"></div>
							</div>
						</div>					
					
						
						<div class="modal-block" id="review-book-detail">
							<div class="modal-block-div">
								<h2><span class="font-weightnormal">Title :</span> <strong><%= oBookOne.book_title %></strong></h2>
								<h3>
									<span class="font-weightnormal">Authors :</span> 
									<strong><%= oBookOne.author_name %></strong>
								</h3>
							</div>
							<div class="modal-block-left left" style="width:150px">
								<img src="<%= objLibraryJsonData.mediaPath + oBookOne.book_image %>" alt="Water Conservation Differentiated Text">
							</div>
							<div class="modal-block-right middle">
								<p class="vertical-middle">
									<% var rating = 0,
											ratingImg = "",
											totalRating = 5;										
										if(data.reviewData[0].Rating.length == 0){										
											rating = 5;
											ratingImg = "star-off.png";
										}else{										
											rating = data.reviewData[0].Rating;
											ratingImg = "star-on.png";
										}
										
										for(var iI=0; iI<rating; iI++) {											
									  %>
											<img src="media/<%=ratingImg%>" alt="" class="left"/> 
									  <% }
										
										if (data.reviewData[0].Rating.length != 0 && totalRating > rating) {
											ratingImg = "star-off.png";
											for(var iI=0; iI< (totalRating - rating) ; iI++) {												
									   %>
											<img src="media/<%=ratingImg%>" alt="" class="left"/> 
									   <% 	}
										}										
										%>
									<% 	if(data.reviewData[0].Rating.length != 0){ %>
										<span class="ratting-comt left"><%= StarRatings[data.reviewData[0].Rating] %></span>
									<% } %>
								</p>
								<div class="clearfix"></div>								
								   <div>										  
										<ul>
											<%
											var aFeedback = data.reviewData[0].FeebackTags.split(",");					
											for (var i = 0; i < aFeedback.length; i++) {
											%>
											<li><%= PredefinedCommentCodes[aFeedback[i]] %></li>
											<% } %>
										</ul>
										
										<h3 class="margin-bootom0">My Comments</h3>
										<%
										var sComments = (data.reviewData[0].Comments) ? decodeURIComponent(data.reviewData[0].Comments) : "No comments available.";
										%>
										<p><%= sComments %></p>
										</div>								
								</div>
							<div class="clearfix"></div>
						</div>
						<% }
							else { %>
							<div class="modal-block">
								<div class="modal-block-div" style="text-align: center; min-height: 265px; font-size: 15px;">
									<h2><span class="font-weightnormal">No Books Reviewed!</span></h2>								
								</div>
							</div>
						<% } %>
					</div>
					<div id="buttonContainer" class="modal-foot">						
						<div class="clearfix"></div>
					</div>
				</div>
				</div>
			</div>
		</div>
		
	</div>	
</script>

<!-- Book Review Detail Template -->
<script type="text/template" id="bookReviewDetailTemplate">	
	<div class="modal-block-div">
		<h2><span class="font-weightnormal">Title :</span> <strong><%= data.book_title %></strong></h2>
		<h3>
			<span class="font-weightnormal">Authors :</span> 
			<strong><%= data.author_name %></strong>
		</h3>
	</div>
	<div class="modal-block-left left" style="width:150px">
		<img src="<%= objLibraryJsonData.mediaPath + data.book_image %>" alt="Water Conservation Differentiated Text">
	</div>
	<div class="modal-block-right middle">
		<p class="vertical-middle">
			<% var rating = 0,
					ratingImg = "",
					totalRating = 5;											
				if (reviewData.Rating.length == 0) {										
					rating = 5;
					ratingImg = "star-off.png";
				} else {										
					rating = reviewData.Rating;
					ratingImg = "star-on.png";
				}
				
				for (var iI=0; iI<rating; iI++) { 
			%>
					<img src="media/<%=ratingImg%>" alt="" class="left"/> 
			<% 	}
				
				if (reviewData.Rating.length != 0 && totalRating > rating) {
					ratingImg = "star-off.png";
					for(var iI=0; iI< (totalRating - rating) ; iI++) {					
			%>
						<img src="media/<%=ratingImg%>" alt="" class="left"/> 
			<% 		}
				}
			 	if (reviewData.Rating.length != 0){ %>
				<span class="ratting-comt left"><%= StarRatings[reviewData.Rating] %></span>
			<% } %>
		</p>
		<div class="clearfix"></div>		
		   <div>
			<ul>
			<% 
			var aFeedback = reviewData.FeebackTags.split(",");					
			for (var i = 0; i < aFeedback.length; i++) {
			%>
			<li><%= PredefinedCommentCodes[aFeedback[i]] %></li>
			<% }%>
			</ul>
			<h3 class="margin-bootom0">My Comments</h3>
			<% var sComments = (reviewData.Comments) ? decodeURIComponent(reviewData.Comments) : "No comments available."; %>
			<p><%= sComments %></p>
			</div>		
		</div>
	<div class="clearfix"></div>
</script>		
</html>