function $rw_barSearchInit(){ var rkb = Yga.paths.rkb; if(!Afa && typeof(displayDictionaryTerm) =="function") { return; } if(Jga) { SSDOM.Zmb(Yga.pageData.placeholder,"<link href=\""+ rkb +"rwsearchSWA.css\" type=\"text/css\" rel=\"stylesheet\" />", false); } else if (Qga) { SSDOM.Zmb(Yga.pageData.placeholder,"<link href=\""+ rkb +"rwsearchExt.css\" type=\"text/css\" rel=\"stylesheet\" />", false); } else { if(Lfa) { SSDOM.Zmb(Yga.pageData.placeholder,"<link href=\""+ rkb +"rwsearch.css\" type=\"text/css\" rel=\"stylesheet\" />", false); } else { SSDOM.Zmb(Yga.pageData.placeholder,"<link href=\""+ rkb +"rwsearchSFF.css\" type=\"text/css\" rel=\"stylesheet\" />", false); } } var Zob =""; if(Jga || Qga) { Zob +='<div id="rwDisplay" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1">'; Zob +='<div class="rwPopupOutline">'; Zob +='<div id="rwDragMeDisplay" class="rwToolbarCaptionDisplay" >Display</div>'; Zob +='    <div id="rwCloseMeDisplay" class="rwDisplayCaptionClose" onmouseover="$rw_divOver(0);" onmouseout="$rw_divOut(0);" onmouseup="$rw_divPress(0);"></div>'; Zob +='<span id="rwpopupdisplay"></span>'; Zob +='</div>'; Zob +='</div>'; } else { Zob +='<div id="rwDisplay" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1">'; Zob +='<div class="rwPopupOutline">'; Zob +='<div id="rwDragMeDisplay" class="rwToolbarCaptionDisplay" >'; Zob +='<img name="displayImg" align="right" src="'+ rkb +'rwimgs/thex.bmp" onmouseover="$rw_divOver(0);" onmouseout="$rw_divOut(0);" '+'onmouseup="$rw_divPress(0);" />'; Zob +='</div>'; if(Cea) { Zob +='<div class="rwPopupContent500">'; } else { Zob +='<div class="rwPopupContent">'; } Zob +='<span id="rwpopupdisplay"></span>'; Zob +='</div>'; Zob +='</div>'; Zob +='</div>'; } if(Jga || Qga) { Zob +=' <div id="rwTrans" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1" >'; Zob +=' <div class="rwPopupOutline">'; if(Eda == ENG_UK || Eda == ENG_US) { Zob +='  <div id="rwDragMeTrans" class="rwToolbarCaptionTrans" >Translator</div>'; } else { Zob +='  <div id="rwDragMeTrans" class="rwToolbarSpanCaptionTrans" >Translator</div>'; } Zob +='    <div id="rwCloseMeTrans" class="rwTransCaptionClose" onmouseover="$rw_divOver(1);" onmouseout="$rw_divOut(1);" onmouseup="$rw_divPress(1);"></div>'; Zob +='<span id="rwpopuptrans"></span>'; Zob +='</div>'; Zob +='</div>'; } else { Zob +=' <div id="rwTrans" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1">'; Zob +=' <div class="rwPopupOutline">'; if(Cea) { Zob +='  <div id="rwDragMeTrans" class="rwToolbar500CaptionTrans" >'; } else { if(Eda == ENG_UK || Eda == ENG_US) { Zob +='  <div id="rwDragMeTrans" class="rwToolbarCaptionTrans" >'; } else { Zob +='  <div id="rwDragMeTrans" class="rwToolbarSpanCaptionTrans" >'; } } Zob +='    <img name="transImg" align="right" src="'+ rkb +'rwimgs/thex.bmp" onmouseover="$rw_divOver(1);" onmouseout="$rw_divOut(1);" '+'onmouseup="$rw_divPress(1);" /></div>'; if(Cea) { Zob +='<div class="rwPopupContent500">'; } else { Zob +='<div class="rwPopupContent">'; } Zob +='<span id="rwpopuptrans"></span></div>'; Zob +='</div></div>'; } if(Jga || Qga) { Zob +=' <div id="rwDict" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1" >'; Zob +=' <div class="rwPopupOutline">'; if(Eda == ENG_UK || Eda == ENG_US) { Zob +='  <div id="rwDragMeDict" class="rwToolbarCaptionDict" >Dictionary</div>'; } else { Zob +='  <div id="rwDragMeDict" class="rwToolbarSpanCaptionDict" >Dictionary</div>'; } Zob +='    <div id="rwCloseMeDict" class="rwDictCaptionClose" onmouseover="$rw_divOver(3);" onmouseout="$rw_divOut(3);" onmouseup="$rw_divPress(3);"></div>'; Zob +='<span id="rwpopupdict"></span>'; Zob +='</div>'; Zob +='</div>'; } else { Zob +='<div id="rwDict" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1">'; Zob +=' <div class="rwPopupOutline">'; if(Cea) { Zob +='  <div id="rwDragMeDict" class="rwToolbar500CaptionDict" >'; } else { if(Eda == ENG_UK || Eda == ENG_US) { Zob +='  <div id="rwDragMeDict" class="rwToolbarCaptionDict" >'; } else { Zob +='  <div id="rwDragMeDict" class="rwToolbarSpanCaptionDict" >'; } } Zob +='    <img name="dictImg" align="right" src="'+ rkb +'rwimgs/thex.bmp" onmouseover="$rw_divOver(3);" onmouseout="$rw_divOut(3);" '+'onmouseup="$rw_divPress(3);" /></div>'; if(Cea) { Zob +='<div class="rwPopupContent500">'; } else { Zob +='<div class="rwPopupContent">'; } Zob +='<span id="rwpopupdict"></span></div>'; Zob +='</div></div>'; } if(Jga || Qga) { Zob +=' <div id="rwPictureDictionary" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1" >'; Zob +=' <div class="rwPopupOutline">'; if(Eda == ENG_UK || Eda == ENG_US) { Zob +='  <div id="rwDragMePictureDictionary" class="rwToolbarCaptionPictureDictionary" >Picture Dictionary</div>'; } else { Zob +='  <div id="rwDragMePictureDictionary" class="rwToolbarSpanCaptionPictureDictionary" >Picture Dictionary</div>'; } Zob +='    <div id="rwCloseMePictureDictionary" class="rwPictureDictionaryCaptionClose" onmouseover="$rw_divOver(11);" onmouseout="$rw_divOut(11);" onmouseup="$rw_divPress(11);"></div>'; Zob +='<span id="rwpopuppicturedictionary"></span>'; Zob +='</div>'; Zob +='</div>'; } else { Zob +=' <div id="rwPictureDictionary" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1">'; Zob +=' <div class="rwPictureDictionaryOutline">'; if(Cea) { Zob +='  <div id="rwDragMePictureDictionary" class="rwToolbar500CaptionPictureDictionary" >'; } else if(Eda == ENG_UK || Eda == ENG_US) { Zob +='  <div id="rwDragMePictureDictionary" class="rwToolbarCaptionPictureDictionary" >'; } else { Zob +='  <div id="rwDragMePictureDictionary" class="rwToolbarSpanCaptionPictureDictionary" >'; } Zob +='    <img name="pictureDictionaryImg" align="right" src="'+ rkb +'rwimgs/thex.bmp" onmouseover="$rw_divOver(11);" onmouseout="$rw_divOut(11);" '+'onmouseup="$rw_divPress(11);" /></div>'; if(Cea) { Zob +='<div class="rwPictureDictionaryContent500">'; } else { Zob +='<div class="rwPictureDictionaryContent">'; } Zob +='<span id="rwpopuppicturedictionary"></span></div>'; Zob +='</div></div>'; } SSDOM.Zmb(Yga.pageData.placeholder, Zob, false); var Ipb = document.getElementById("rwTrans"); if(Ipb != null) { lDb(Ipb,'dragstart', MHb); lDb(Ipb,'touchend', lHb); lDb(Ipb,'touchmove', fHb); lDb(Ipb,'touchstart', JHb); } var Ipb = document.getElementById("rwDict"); if(Ipb != null) { lDb(Ipb,'dragstart', MHb); lDb(Ipb,'touchend', lHb); lDb(Ipb,'touchmove', fHb); lDb(Ipb,'touchstart', JHb); } var Ipb = document.getElementById("rwPictureDictionary"); if(Ipb != null) { lDb(Ipb,'dragstart', MHb); lDb(Ipb,'touchend', lHb); lDb(Ipb,'touchmove', fHb); lDb(Ipb,'touchstart', JHb); } xfa = true; if(typeof($rw_toolbarSearchLoadedCallback) =="function") { $rw_toolbarSearchLoadedCallback(); }}$rw_barSearchInit();SpeechStream.TranslatorData = function(){ var self = this; this.ENGLISH ="ENGLISH"; this.ENGLISH_US ="ENGLISH_US"; this.ENGLISH_UK ="ENGLISH_UK"; this.FRENCH ="FRENCH"; this.FRENCH_CA ="FRENCH"; this.SPANISH ="SPANISH"; this.GERMAN ="GERMAN"; this.ITALIAN ="ITALIAN"; this.PORTUGUESE ="PORTUGUESE"; this.PORTUGUES ="PORTUGUES"; this.CHINESE ="CHINESE"; this.WORD_TYPE ="word"; this.PARAGRAPH_TYPE ="paragraph"; this.rgb ="ENGLISH_US"; this.kyb ="SPANISH"; this.Uab = this.WORD_TYPE;function ngb(ogb) { if(typeof(ogb) =="string") { var gub = ogb.trimTH().toUpperCase(); if(gub == self.ENGLISH) { if(Gda =="US") { return self.ENGLISH_US; } else { return self.ENGLISH_UK; } } else { if(gub == self.ENGLISH_UK || gub == self.ENGLISH_US || gub == self.FRENCH || gub == FRENCH_CA || gub == self.SPANISH || gub == self.GERMAN || gub == self.ITALIAN || gub == self.PORTUGUESE || gub == self.PORTUGUES || gub == self.CHINESE ) { return gub; } } } else { if(typeof(ogb) =="number") { var qgb = parseInt(ogb, 10); switch(qgb) { case ENGLISH: if(Gda =="US") { return self.ENGLISH_US; } else { return self.ENGLISH; } break; case ENGLISH_US: return self.ENGLISH_US; break; case ENGLISH_UK: return self.ENGLISH_UK; break; case SPANISH: return self.SPANISH; break; case FRENCH: return self.FRENCH; break; case FRENCH_CA: return self.FRENCH_CA; break; case GERMAN: return self.GERMAN; break; case ITALIAN: return self.ITALIAN; break; case PORTUGUESE: return self.PORTUGUESE; break; case PORTUGUES: return self.PORTUGUES; break; case CHINESE: return self.CHINESE; default: } } } return null; } this.setSource = function(nZb) { var rgb = ngb(nZb); if(rgb != null) { self.rgb = rgb; } }; this.setTarget = function(p_strTarget) { var kyb = ngb(p_strTarget); if(kyb != null) { self.kyb = kyb; } }; this.setType = function(p_strType) { if(p_strType != null) { self.type = p_strType.toLowerCase(); } }; this.getType = function() { return self.type; };};SpeechStream.translatorData = new SpeechStream.TranslatorData();if(typeof(eba_translate_source) =="string"|| typeof(eba_translate_source) =="number"){ SpeechStream.translatorData.setSource(eba_translate_source);}if(typeof(eba_translate_target) =="string"|| typeof(eba_translate_target) =="number"){ SpeechStream.translatorData.setTarget(eba_translate_target);}if(typeof(eba_translate_type) =="string"){ SpeechStream.translatorData.setType(eba_translate_type);}function $rw_event_trans(){ try { try { var aAc = wua(); if(aAc != null) { var ugb = uIb(aAc); if(SpeechStream.translatorData.kyb === SpeechStream.translatorData.SPANISH && (ugb ==="es"|| ugb ==="es-es"|| ugb ==="es-us")) { return; } } } catch(err) { } var iAc; iAc = Dva(); if(SpeechStream.translatorData.getType() == SpeechStream.translatorData.PARAGRAPH_TYPE) { ygb(iAc); } else { iAc = twa(iAc); Chb(iAc); } } catch(err) { thLogE(err); }}function ygb(Yvb){ if(Yvb.length > 0) { var flash = Mab.getConnector(); if(flash != null) { flash.getTranslationParagraph(Yvb, SpeechStream.translatorData.rgb, SpeechStream.translatorData.kyb); } } else { var fhb ="<style type=\"text/css\">"+"div.rwTranWordHeader{"+"font-size:150%;"+"font-weight: bold;"+"padding-bottom: 3px;"+"padding-left: 5px;"+"border-bottom: 1px solid #666666;"+"margin-bottom: 10px;}"+"span.rwMeaningNum{padding-left: 10px;"+"padding-right: 10px;"+"font-weight: bold;}"+"span.rwMeaning{padding-right:10px}"+"</style>"+"<div class=\"rwTranWordHeader\">No valid text selected</div>"; $rw_transReply(fhb); }}function Chb(Oqb){ if(Oqb.length > 0) { var flash = Mab.getConnector(); if(flash != null) { flash.getTranslationGenericPage(Oqb, SpeechStream.translatorData.rgb, SpeechStream.translatorData.kyb); } } else { var fhb ="<style type=\"text/css\">"+"div.rwTranWordHeader{"+"font-size:150%;"+"font-weight: bold;"+"padding-bottom: 3px;"+"padding-left: 5px;"+"border-bottom: 1px solid #666666;"+"margin-bottom: 10px;}"+"span.rwMeaningNum{padding-left: 10px;"+"padding-right: 10px;"+"font-weight: bold;}"+"span.rwMeaning{padding-right:10px}"+"</style>"+"<div class=\"rwTranWordHeader\">No valid word selected</div>"; $rw_transReply(fhb); }}function $rw_translate(nZb, p_strTarget, Oqb){ try { if(typeof(Oqb) =="undefined") { Oqb = twa(Dva()); } if(Oqb != null && Oqb.length > 0) { var flash = Mab.getConnector(); if(flash != null) { flash.getTranslationGenericPage(Oqb, nZb, p_strTarget); } } else { var fhb ="<style type=\"text/css\">"+"div.rwTranWordHeader{"+"font-size:150%;"+"font-weight: bold;"+"padding-bottom: 3px;"+"padding-left: 5px;"+"border-bottom: 1px solid #666666;"+"margin-bottom: 10px;}"+"span.rwMeaningNum{padding-left: 10px;"+"padding-right: 10px;"+"font-weight: bold;}"+"span.rwMeaning{padding-right:10px}"+"</style>"+"<div class=\"rwTranWordHeader\">No valid word selected</div>"; $rw_transReply(fhb); } } catch(err) { thLogE(err); }}function $rw_transReply(Tyb){ try { if(typeof(Tyb) =="string"&& Tyb.length > 0) { Tyb = Vhb(Tyb); var lhb; if($rw_getFlashVersion() > 142) { lhb ="<html><body>"+ Tyb +"</body></html>"; } else { lhb ="<html><body>"+ Tyb.substring(7) +"</body></html>"; } QKb(Qba, lhb); VKb(true, Qba); } } catch(err) { thLogE(err); }}function $rw_event_ffinder(){ try { var Hhb; Hhb = Dva(); SpeechStream.tools.factfinder.lookup(Hhb); } catch(err) { thLogE(err); }}function $rw_event_dict(){ $rw_event_dictionary();}function $rw_event_dictionary(){ try { var Qzb; Qzb = Dva(); $rw_dictionaryRequest(Qzb); } catch(err) { thLogE(err); }}function $rw_dictionaryRequest(Oqb){ try { var Qzb = owa(Oqb); if(Bea) { if(typeof(displayDictionaryTerm) =="function") { displayDictionaryTerm(Qzb); } return; } if(Qzb.length > 0) { var flash = Mab.getConnector(); if(flash != null) { if(typeof(eba_custom_dictionary_url) !="undefined"&& eba_custom_dictionary_url != null && eba_custom_dictionary_url.length > 0) { flash.getCustomDictionaryPage(Qzb, eba_custom_dictionary_url); } else { if(typeof(eba_alt_dictionary_url) !="undefined"&& eba_alt_dictionary_url != null && eba_alt_dictionary_url.length > 0) { var Vsb = eba_alt_dictionary_url + Qzb; lva(Vsb,'popup', 700, 500, 1, 1, 0, 0, 0, 0, 0); } else { flash.getDictionaryPage(Qzb); } } } } else { if(typeof(eba_alt_dictionary_url) !="undefined"&& eba_alt_dictionary_url != null && eba_alt_dictionary_url.length > 0) { alert("No valid word selected"); } else { var fhb ="result=<div class=\"rwDictWordHeader\">No valid word selected</div>"; $rw_dictionaryReply(fhb); } } } catch(err) { thLogE(err); }}function $rw_dictionaryReply(Tyb){ try { var zyb = Tyb.indexOf("result="); if(zyb > -1) { var lhb = Tyb.substring(7); lhb = Vhb(lhb); QKb(Sba, lhb); VKb(true, Sba); } else { if(Tyb.length > 0) { QKb(Sba, Tyb); VKb(true, Sba); } } } catch(err) { thLogE(err); }}var Phb ="<span placeholder='";var Qhb ="'></span>";function Vhb(Yvb){ var zyb = Yvb.indexOf(Phb); while(zyb > -1) { var wvb = Yvb.indexOf(Qhb, zyb); if(wvb > -1) { var Gyb = Yvb.substring(zyb + Phb.length, wvb); if(!Kga) { var Uhb ="<span onclick=\""+"$rw_speakByIdWithSpeaker('"+ Gyb +"')\" ignore=\"1\">"+"<img name=\"speaker"+ Gyb +"off\" "+"align=\"right\" "+"src=\""+ Yga.paths.rkb +"rwimgs/Speaker.png\" "+"style=\"width:26px; visibility:visible; display:inline\" />"+"<img name=\"speaker"+ Gyb +"on\" "+"align=\"right\" "+"src=\""+ Yga.paths.rkb +"rwimgs/Speaker_on.png\" "+"style=\"width:0px;visibility:hidden; display:none\" /> </span>"; Yvb = Yvb.substring(0, zyb) + Uhb + Yvb.substr(wvb + Qhb.length); } } zyb = Yvb.indexOf(Phb, zyb + 1); } return Yvb;}var Xhb = null;var Yhb = null;function $rw_getTranslationFl(Tyb, p_callback){ try { Xhb = p_callback; var Qzb = twa(Tyb); if(Qzb.length > 0) { var flash = Mab.getConnector(); if(flash != null) { return flash.getTranslationFlGenericPage(Qzb, SpeechStream.translatorData.rgb, SpeechStream.translatorData.kyb); } } } catch(err) { thLogE(err); } var fhb ="<style type=\"text/css\">"+"div.rwTranWordHeader{"+"font-size:150%;"+"font-weight: bold;"+"padding-bottom: 3px;"+"padding-left: 5px;"+"border-bottom: 1px solid #666666;"+"margin-bottom: 10px;}"+"span.rwMeaningNum{padding-left: 10px;"+"padding-right: 10px;"+"font-weight: bold;}"+"span.rwMeaning{padding-right:10px}"+"</style>"+"<div class=\"rwTranWordHeader\">No valid word selected</div>"; return fhb;}function $rw_transFlReply(Tyb){ try { if(typeof(Tyb) =="string"&& Tyb.length > 0) { var lhb ="<html><body>"+ Tyb +"</body></html>"; var n = lhb.indexOf("'"); while(n > -1) { lhb = lhb.substring(0, n) +"\\'"+ lhb.substring(n + 1); n = lhb.indexOf("'", n + 2); } eval(Xhb +"('"+ lhb +"')"); return lhb; } } catch(err) { thLogE(err); } return"error";}function $rw_getDictionaryFl(Tyb, p_callback){ try { Yhb = p_callback; var Qzb = owa(Tyb); if(Qzb.length > 0) { var flash = Mab.getConnector(); if(flash != null) { return flash.getDictionaryPageFl(Qzb); } } var fhb ="<div class=\"rwDictWordHeader\">No valid word selected</div>"; return fhb; } catch(err) { thLogE(err); return"<div class=\"rwDictWordHeader\">No result available</div>"; }}function $rw_dictionaryFlReply(Tyb){ try { var zyb = Tyb.indexOf("result="); if(zyb > -1) { var lhb = Tyb.substring(7); var gub ="rwDictWordHeader"; var crb = lhb.indexOf(gub); if(crb > -1) { lhb = lhb.substring(0, crb) +"fluencyDictionaryHeader"+ lhb.substring(crb + gub.length); } var n = lhb.indexOf("'"); while(n > -1) { lhb = lhb.substring(0, n) +"\\'"+ lhb.substring(n + 1); n = lhb.indexOf("'", n + 2); } eval(Yhb +"('"+ lhb +"')"); return lhb; } } catch(err) { thLogE(err); } return"error";}function $rw_translateFlTest(Tyb){ alert(Tyb);}function $rw_dictionaryFlTest(Tyb){ alert(Tyb);}function $rw_event_picturedictionary(){ try { var Qzb; Qzb = Dva(); Qzb = twa(Qzb); SpeechStream.tools.pictureDictionary.lookup(Qzb); } catch(err) { thLogE(err); }}function $rw_picturedictionaryReply(Tyb){ try { if(typeof(Tyb) =="string"&& Tyb.length > 0) { var lhb; lhb = Tyb; var zyb = lhb.indexOf("src=\"") + 5; while(zyb > 4) { lhb = lhb.substring(0,zyb) + ((rca)? rca: yBb(ica, false)) +"ImageServices/image.html?imageurl="+ lhb.substring(zyb); zyb = lhb.indexOf("src=", zyb) + 5; } var crb = lhb.indexOf("<br />"); var drb = lhb.indexOf(String.fromCharCode(60) +"/p>", crb); while(crb > -1 && drb > -1) { lhb = lhb.substring(0, crb) + lhb.substr(drb); crb = lhb.indexOf("<br />", crb); if(crb > -1) { drb = lhb.indexOf(String.fromCharCode(60) +"/p>", crb); } else { drb = -1; } } QKb(aba, lhb); VKb(true, aba); } } catch(err) { thLogE(err); }}
