function $rw_barSearchInit(){ var strFileLoc = aga.paths.strFileLoc; if(!Afa && typeof(displayDictionaryTerm) =="function") { return; } if(Jga) { SSDOM.Hnb(aga.pageData.placeholder,"<link href=\""+ strFileLoc +"rwsearchSWA.css\" type=\"text/css\" rel=\"stylesheet\" />", false); } else if (Qga) { SSDOM.Hnb(aga.pageData.placeholder,"<link href=\""+ strFileLoc +"rwsearchExt.css\" type=\"text/css\" rel=\"stylesheet\" />", false); } else { if(Lfa) { SSDOM.Hnb(aga.pageData.placeholder,"<link href=\""+ strFileLoc +"rwsearch.css\" type=\"text/css\" rel=\"stylesheet\" />", false); } else { SSDOM.Hnb(aga.pageData.placeholder,"<link href=\""+ strFileLoc +"rwsearchSFF.css\" type=\"text/css\" rel=\"stylesheet\" />", false); } } var Hpb =""; if(Jga || Qga) { Hpb +='<div id="rwDisplay" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1">'; Hpb +='<div class="rwPopupOutline">'; Hpb +='<div id="rwDragMeDisplay" class="rwToolbarCaptionDisplay" >Display</div>'; Hpb +='    <div id="rwCloseMeDisplay" class="rwDisplayCaptionClose" onmouseover="$rw_divOver(0);" onmouseout="$rw_divOut(0);" onmouseup="$rw_divPress(0);"></div>'; Hpb +='<span id="rwpopupdisplay"></span>'; Hpb +='</div>'; Hpb +='</div>'; } else { Hpb +='<div id="rwDisplay" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1">'; Hpb +='<div class="rwPopupOutline">'; Hpb +='<div id="rwDragMeDisplay" class="rwToolbarCaptionDisplay" >'; Hpb +='<img name="displayImg" align="right" src="'+ strFileLoc +'rwimgs/thex.bmp" onmouseover="$rw_divOver(0);" onmouseout="$rw_divOut(0);" '+'onmouseup="$rw_divPress(0);" />'; Hpb +='</div>'; if(Cea) { Hpb +='<div class="rwPopupContent500">'; } else { Hpb +='<div class="rwPopupContent">'; } Hpb +='<span id="rwpopupdisplay"></span>'; Hpb +='</div>'; Hpb +='</div>'; Hpb +='</div>'; } if(Jga || Qga) { Hpb +=' <div id="rwTrans" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1" >'; Hpb +=' <div class="rwPopupOutline">'; if(Eda == ENG_UK || Eda == ENG_US) { Hpb +='  <div id="rwDragMeTrans" class="rwToolbarCaptionTrans" >Translator</div>'; } else { Hpb +='  <div id="rwDragMeTrans" class="rwToolbarSpanCaptionTrans" >Translator</div>'; } Hpb +='    <div id="rwCloseMeTrans" class="rwTransCaptionClose" onmouseover="$rw_divOver(1);" onmouseout="$rw_divOut(1);" onmouseup="$rw_divPress(1);"></div>'; Hpb +='<span id="rwpopuptrans"></span>'; Hpb +='</div>'; Hpb +='</div>'; } else { Hpb +=' <div id="rwTrans" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1">'; Hpb +=' <div class="rwPopupOutline">'; if(Cea) { Hpb +='  <div id="rwDragMeTrans" class="rwToolbar500CaptionTrans" >'; } else { if(Eda == ENG_UK || Eda == ENG_US) { Hpb +='  <div id="rwDragMeTrans" class="rwToolbarCaptionTrans" >'; } else { Hpb +='  <div id="rwDragMeTrans" class="rwToolbarSpanCaptionTrans" >'; } } Hpb +='    <img name="transImg" align="right" src="'+ strFileLoc +'rwimgs/thex.bmp" onmouseover="$rw_divOver(1);" onmouseout="$rw_divOut(1);" '+'onmouseup="$rw_divPress(1);" /></div>'; if(Cea) { Hpb +='<div class="rwPopupContent500">'; } else { Hpb +='<div class="rwPopupContent">'; } Hpb +='<span id="rwpopuptrans"></span></div>'; Hpb +='</div></div>'; } if(Jga || Qga) { Hpb +=' <div id="rwDict" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1" >'; Hpb +=' <div class="rwPopupOutline">'; if(Eda == ENG_UK || Eda == ENG_US) { Hpb +='  <div id="rwDragMeDict" class="rwToolbarCaptionDict" >Dictionary</div>'; } else { Hpb +='  <div id="rwDragMeDict" class="rwToolbarSpanCaptionDict" >Dictionary</div>'; } Hpb +='    <div id="rwCloseMeDict" class="rwDictCaptionClose" onmouseover="$rw_divOver(3);" onmouseout="$rw_divOut(3);" onmouseup="$rw_divPress(3);"></div>'; Hpb +='<span id="rwpopupdict"></span>'; Hpb +='</div>'; Hpb +='</div>'; } else { Hpb +='<div id="rwDict" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1">'; Hpb +=' <div class="rwPopupOutline">'; if(Cea) { Hpb +='  <div id="rwDragMeDict" class="rwToolbar500CaptionDict" >'; } else { if(Eda == ENG_UK || Eda == ENG_US) { Hpb +='  <div id="rwDragMeDict" class="rwToolbarCaptionDict" >'; } else { Hpb +='  <div id="rwDragMeDict" class="rwToolbarSpanCaptionDict" >'; } } Hpb +='    <img name="dictImg" align="right" src="'+ strFileLoc +'rwimgs/thex.bmp" onmouseover="$rw_divOver(3);" onmouseout="$rw_divOut(3);" '+'onmouseup="$rw_divPress(3);" /></div>'; if(Cea) { Hpb +='<div class="rwPopupContent500">'; } else { Hpb +='<div class="rwPopupContent">'; } Hpb +='<span id="rwpopupdict"></span></div>'; Hpb +='</div></div>'; } if(Jga || Qga) { Hpb +=' <div id="rwPictureDictionary" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1" >'; Hpb +=' <div class="rwPopupOutline">'; if(Eda == ENG_UK || Eda == ENG_US) { Hpb +='  <div id="rwDragMePictureDictionary" class="rwToolbarCaptionPictureDictionary" >Picture Dictionary</div>'; } else { Hpb +='  <div id="rwDragMePictureDictionary" class="rwToolbarSpanCaptionPictureDictionary" >Picture Dictionary</div>'; } Hpb +='    <div id="rwCloseMePictureDictionary" class="rwPictureDictionaryCaptionClose" onmouseover="$rw_divOver(11);" onmouseout="$rw_divOut(11);" onmouseup="$rw_divPress(11);"></div>'; Hpb +='<span id="rwpopuppicturedictionary"></span>'; Hpb +='</div>'; Hpb +='</div>'; } else { Hpb +=' <div id="rwPictureDictionary" style="visibility:hidden" rwTHcomp="1" texthelpStopContinuous="1">'; Hpb +=' <div class="rwPictureDictionaryOutline">'; if(Cea) { Hpb +='  <div id="rwDragMePictureDictionary" class="rwToolbar500CaptionPictureDictionary" >'; } else if(Eda == ENG_UK || Eda == ENG_US) { Hpb +='  <div id="rwDragMePictureDictionary" class="rwToolbarCaptionPictureDictionary" >'; } else { Hpb +='  <div id="rwDragMePictureDictionary" class="rwToolbarSpanCaptionPictureDictionary" >'; } Hpb +='    <img name="pictureDictionaryImg" align="right" src="'+ strFileLoc +'rwimgs/thex.bmp" onmouseover="$rw_divOver(11);" onmouseout="$rw_divOut(11);" '+'onmouseup="$rw_divPress(11);" /></div>'; if(Cea) { Hpb +='<div class="rwPictureDictionaryContent500">'; } else { Hpb +='<div class="rwPictureDictionaryContent">'; } Hpb +='<span id="rwpopuppicturedictionary"></span></div>'; Hpb +='</div></div>'; } SSDOM.Hnb(aga.pageData.placeholder, Hpb, false); var qpb = document.getElementById("rwTrans"); if(qpb != null) { yDb(qpb,'dragstart', aHb); yDb(qpb,'touchend', zHb); yDb(qpb,'touchmove', tHb); yDb(qpb,'touchstart', XHb); } var qpb = document.getElementById("rwDict"); if(qpb != null) { yDb(qpb,'dragstart', aHb); yDb(qpb,'touchend', zHb); yDb(qpb,'touchmove', tHb); yDb(qpb,'touchstart', XHb); } var qpb = document.getElementById("rwPictureDictionary"); if(qpb != null) { yDb(qpb,'dragstart', aHb); yDb(qpb,'touchend', zHb); yDb(qpb,'touchmove', tHb); yDb(qpb,'touchstart', XHb); } xfa = true; if(typeof($rw_toolbarSearchLoadedCallback) =="function") { $rw_toolbarSearchLoadedCallback(); }}$rw_barSearchInit();SpeechStream.TranslatorData = function(){ var self = this; this.ENGLISH ="ENGLISH"; this.ENGLISH_US ="ENGLISH_US"; this.ENGLISH_UK ="ENGLISH_UK"; this.FRENCH ="FRENCH"; this.FRENCH_CA ="FRENCH"; this.SPANISH ="SPANISH"; this.GERMAN ="GERMAN"; this.ITALIAN ="ITALIAN"; this.PORTUGUESE ="PORTUGUESE"; this.PORTUGUES ="PORTUGUES"; this.CHINESE ="CHINESE"; this.WORD_TYPE ="word"; this.PARAGRAPH_TYPE ="paragraph"; this.Lhb ="ENGLISH_US"; this.Szb ="SPANISH"; this.lab = this.WORD_TYPE; this.bCantoneseTarget = false;function Hhb(Ihb) { if(typeof(Ihb) =="string") { var Ovb = Ihb.trimTH().toUpperCase(); if(Ovb == self.ENGLISH) { if(Gda =="US") { return self.ENGLISH_US; } else { return self.ENGLISH_UK; } } else { if(Ovb.toUpperCase() =="CANTONESE") { return"CHINESE"; } else if(Ovb.toUpperCase() =="MANDARIN") { return"CHINESE"; } else { return Ovb; } } } else { if(typeof(Ihb) =="number") { var Khb = parseInt(Ihb, 10); switch(Khb) { case ENGLISH: if(Gda =="US") { return self.ENGLISH_US; } else { return self.ENGLISH; } break; case ENGLISH_US: return self.ENGLISH_US; break; case ENGLISH_UK: return self.ENGLISH_UK; break; case SPANISH: return self.SPANISH; break; case FRENCH: return self.FRENCH; break; case FRENCH_CA: return self.FRENCH_CA; break; case GERMAN: return self.GERMAN; break; case ITALIAN: return self.ITALIAN; break; case PORTUGUESE: return self.PORTUGUESE; break; case PORTUGUES: return self.PORTUGUES; break; case CHINESE: return self.CHINESE; default: } } } return null; } this.setSource = function(Eab) { var Lhb = Hhb(Eab); if(Lhb != null) { self.Lhb = Lhb; } }; this.setTarget = function(p_strTarget) { var Szb = Hhb(p_strTarget); if(Szb != null) { self.Szb = Szb; self.bCantoneseTarget = (p_strTarget.toUpperCase() ==="CANTONESE"); } }; this.setType = function(p_strType) { if(p_strType != null) { self.type = p_strType.toLowerCase(); } }; this.getType = function() { return self.type; };};SpeechStream.translatorData = new SpeechStream.TranslatorData();if(typeof(eba_translate_source) =="string"|| typeof(eba_translate_source) =="number"){ SpeechStream.translatorData.setSource(eba_translate_source);}if(typeof(eba_translate_target) =="string"|| typeof(eba_translate_target) =="number"){ SpeechStream.translatorData.setTarget(eba_translate_target);}if(typeof(eba_translate_type) =="string"){ SpeechStream.translatorData.setType(eba_translate_type);}function $rw_event_trans(){ try { try { var IBc = Jva(); if(IBc != null) { var Ohb = FJb(IBc); if(SpeechStream.translatorData.Szb === SpeechStream.translatorData.SPANISH && (Ohb ==="es"|| Ohb ==="es-es"|| Ohb ==="es-us")) { return; } } } catch(err) { } var QBc; QBc = Qva(); if(SpeechStream.translatorData.getType() == SpeechStream.translatorData.PARAGRAPH_TYPE) { Shb(QBc); } else { QBc = Nxa(QBc); Whb(QBc); } } catch(err) { thLogE(err); }}function Shb(Gwb){ if(Gwb.length > 0) { var flash = dab.getConnector(); if(flash != null) { flash.getTranslationParagraph(Gwb, SpeechStream.translatorData.Lhb, SpeechStream.translatorData.Szb); } } else { var zhb ="<style type=\"text/css\">"+"div.rwTranWordHeader{"+"font-size:150%;"+"font-weight: bold;"+"padding-bottom: 3px;"+"padding-left: 5px;"+"border-bottom: 1px solid #666666;"+"margin-bottom: 10px;}"+"span.rwMeaningNum{padding-left: 10px;"+"padding-right: 10px;"+"font-weight: bold;}"+"span.rwMeaning{padding-right:10px}"+"</style>"+"<div class=\"rwTranWordHeader\">No valid text selected</div>"; $rw_transReply(zhb); }}function Whb(wqb){ if(wqb.length > 0) { var flash = dab.getConnector(); if(flash != null) { flash.getTranslationGenericPage(wqb, SpeechStream.translatorData.Lhb, SpeechStream.translatorData.Szb); } } else { var zhb ="<style type=\"text/css\">"+"div.rwTranWordHeader{"+"font-size:150%;"+"font-weight: bold;"+"padding-bottom: 3px;"+"padding-left: 5px;"+"border-bottom: 1px solid #666666;"+"margin-bottom: 10px;}"+"span.rwMeaningNum{padding-left: 10px;"+"padding-right: 10px;"+"font-weight: bold;}"+"span.rwMeaning{padding-right:10px}"+"</style>"+"<div class=\"rwTranWordHeader\">No valid word selected</div>"; $rw_transReply(zhb); }}function $rw_translate(Eab, p_strTarget, wqb){ try { if(typeof(wqb) =="undefined") { wqb = Nxa(Qva()); } if(wqb != null && wqb.length > 0) { var flash = dab.getConnector(); if(flash != null) { flash.getTranslationGenericPage(wqb, Eab, p_strTarget); } } else { var zhb ="<style type=\"text/css\">"+"div.rwTranWordHeader{"+"font-size:150%;"+"font-weight: bold;"+"padding-bottom: 3px;"+"padding-left: 5px;"+"border-bottom: 1px solid #666666;"+"margin-bottom: 10px;}"+"span.rwMeaningNum{padding-left: 10px;"+"padding-right: 10px;"+"font-weight: bold;}"+"span.rwMeaning{padding-right:10px}"+"</style>"+"<div class=\"rwTranWordHeader\">No valid word selected</div>"; $rw_transReply(zhb); } } catch(err) { thLogE(err); }}function $rw_transReply(Bzb){ try { if(typeof(Bzb) =="string"&& Bzb.length > 0) { Bzb = phb(Bzb); var Fib; if($rw_getFlashVersion() > 142) { Fib ="<html><body>"+ Bzb +"</body></html>"; } else { Fib ="<html><body>"+ Bzb.substring(7) +"</body></html>"; } bKb(Pba, Fib); Jib(); gKb(true, Pba); } } catch(err) { thLogE(err); }}function $rw_event_ffinder(){ try { var bhb; bhb = Qva(); SpeechStream.tools.factfinder.lookup(bhb); } catch(err) { thLogE(err); }}function $rw_event_dict(){ $rw_event_dictionary();}function $rw_event_dictionary(){ try { var yzb; yzb = Qva(); $rw_dictionaryRequest(yzb); } catch(err) { thLogE(err); }}function $rw_dictionaryRequest(wqb){ try { var yzb = Ixa(wqb); if(Bea) { if(typeof(displayDictionaryTerm) =="function") { displayDictionaryTerm(yzb); } return; } if(yzb.length > 0) { var flash = dab.getConnector(); if(flash != null) { if(typeof(eba_custom_dictionary_url) !="undefined"&& eba_custom_dictionary_url != null && eba_custom_dictionary_url.length > 0) { flash.getCustomDictionaryPage(yzb, eba_custom_dictionary_url); } else { if(typeof(eba_alt_dictionary_url) !="undefined"&& eba_alt_dictionary_url != null && eba_alt_dictionary_url.length > 0) { var Dtb = eba_alt_dictionary_url + yzb; Cwa(Dtb,'popup', 700, 500, 1, 1, 0, 0, 0, 0, 0); } else { flash.getDictionaryPage(yzb); } } } } else { if(typeof(eba_alt_dictionary_url) !="undefined"&& eba_alt_dictionary_url != null && eba_alt_dictionary_url.length > 0) { alert("No valid word selected"); } else { var zhb ="result=<div class=\"rwDictWordHeader\">No valid word selected</div>"; $rw_dictionaryReply(zhb); } } } catch(err) { thLogE(err); }}function $rw_dictionaryReply(Bzb){ try { var hzb = Bzb.indexOf("result="); if(hzb > -1) { var Fib = Bzb.substring(7); Fib = phb(Fib); bKb(Rba, Fib); gKb(true, Rba); } else { if(Bzb.length > 0) { bKb(Rba, Bzb); gKb(true, Rba); } } } catch(err) { thLogE(err); }}var jhb ="<span placeholder='";var khb ="'></span>";function phb(Gwb){ var hzb = Gwb.indexOf(jhb); while(hzb > -1) { var ewb = Gwb.indexOf(khb, hzb); if(ewb > -1) { var oyb = Gwb.substring(hzb + jhb.length, ewb); if(!Kga) { var ohb ="<span onclick=\""+"$rw_speakByIdWithSpeaker('"+ oyb +"')\" ignore=\"1\">"+"<img name=\"speaker"+ oyb +"off\" "+"align=\"right\" "+"src=\""+ aga.paths.strFileLoc +"rwimgs/Speaker.png\" "+"style=\"width:26px; visibility:visible; display:inline\" />"+"<img name=\"speaker"+ oyb +"on\" "+"align=\"right\" "+"src=\""+ aga.paths.strFileLoc +"rwimgs/Speaker_on.png\" "+"style=\"width:0px;visibility:hidden; display:none\" /> </span>"; Gwb = Gwb.substring(0, hzb) + ohb + Gwb.substr(ewb + khb.length); } } hzb = Gwb.indexOf(jhb, hzb + 1); } return Gwb;}var rhb = null;var shb = null;function $rw_getTranslationFl(Bzb, p_callback){ try { rhb = p_callback; var yzb = Nxa(Bzb); if(yzb.length > 0) { var flash = dab.getConnector(); if(flash != null) { return flash.getTranslationFlGenericPage(yzb, SpeechStream.translatorData.Lhb, SpeechStream.translatorData.Szb); } } } catch(err) { thLogE(err); } var zhb ="<style type=\"text/css\">"+"div.rwTranWordHeader{"+"font-size:150%;"+"font-weight: bold;"+"padding-bottom: 3px;"+"padding-left: 5px;"+"border-bottom: 1px solid #666666;"+"margin-bottom: 10px;}"+"span.rwMeaningNum{padding-left: 10px;"+"padding-right: 10px;"+"font-weight: bold;}"+"span.rwMeaning{padding-right:10px}"+"</style>"+"<div class=\"rwTranWordHeader\">No valid word selected</div>"; return zhb;}function $rw_transFlReply(Bzb){ try { if(typeof(Bzb) =="string"&& Bzb.length > 0) { var Fib ="<html><body>"+ Bzb +"</body></html>"; var n = Fib.indexOf("'"); while(n > -1) { Fib = Fib.substring(0, n) +"\\'"+ Fib.substring(n + 1); n = Fib.indexOf("'", n + 2); } eval(rhb +"('"+ Fib +"')"); return Fib; } } catch(err) { thLogE(err); } return"error";}function $rw_getDictionaryFl(Bzb, p_callback){ try { shb = p_callback; var yzb = Ixa(Bzb); if(yzb.length > 0) { var flash = dab.getConnector(); if(flash != null) { return flash.getDictionaryPageFl(yzb); } } var zhb ="<div class=\"rwDictWordHeader\">No valid word selected</div>"; return zhb; } catch(err) { thLogE(err); return"<div class=\"rwDictWordHeader\">No result available</div>"; }}function $rw_dictionaryFlReply(Bzb){ try { var hzb = Bzb.indexOf("result="); if(hzb > -1) { var Fib = Bzb.substring(7); var Ovb ="rwDictWordHeader"; var Ksb = Fib.indexOf(Ovb); if(Ksb > -1) { Fib = Fib.substring(0, Ksb) +"fluencyDictionaryHeader"+ Fib.substring(Ksb + Ovb.length); } var n = Fib.indexOf("'"); while(n > -1) { Fib = Fib.substring(0, n) +"\\'"+ Fib.substring(n + 1); n = Fib.indexOf("'", n + 2); } eval(shb +"('"+ Fib +"')"); return Fib; } } catch(err) { thLogE(err); } return"error";}function $rw_translateFlTest(Bzb){ alert(Bzb);}function $rw_dictionaryFlTest(Bzb){ alert(Bzb);}function $rw_event_picturedictionary(){ try { var yzb; yzb = Qva(); yzb = Nxa(yzb); SpeechStream.tools.pictureDictionary.lookup(yzb); } catch(err) { thLogE(err); }}function $rw_picturedictionaryReply(Bzb){ try { if(typeof(Bzb) =="string"&& Bzb.length > 0) { var Fib; Fib = Bzb; var hzb = Fib.indexOf("src=\"") + 5; while(hzb > 4) { Fib = Fib.substring(0,hzb) + ((rca)? rca: LCb(ica, false)) +"ImageServices/image.html?imageurl="+ Fib.substring(hzb); hzb = Fib.indexOf("src=", hzb) + 5; } var Ksb = Fib.indexOf("<br />"); var Lsb = Fib.indexOf(String.fromCharCode(60) +"/p>", Ksb); while(Ksb > -1 && Lsb > -1) { Fib = Fib.substring(0, Ksb) + Fib.substr(Lsb); Ksb = Fib.indexOf("<br />", Ksb); if(Ksb > -1) { Lsb = Fib.indexOf(String.fromCharCode(60) +"/p>", Ksb); } else { Lsb = -1; } } bKb(Zba, Fib); gKb(true, Zba); } } catch(err) { thLogE(err); }}function Jib(){ if(eba_translate_complete_callback && typeof(eba_translate_complete_callback) =="function") { eba_translate_complete_callback(); }}
